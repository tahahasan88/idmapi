/*!
 * Copyright 2019-2020 ForgeRock AS. All Rights Reserved 
 *  Use of this code requires a commercial software license with ForgeRock AS. or with one of its affiliates. All use shall be exclusively subject to such license between the licensee and ForgeRock AS.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b4805c4"],{"06a2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.selfServiceType?a("fr-center-card",{attrs:{showLogo:!0}},[a("div",{attrs:{slot:"center-card-header"},slot:"center-card-header"},[a("h2",{staticClass:"h2"},[e._v(e._s(e.$t("pages.selfservice.headers.username.title")))])]),a("b-card-body",{attrs:{slot:"center-card-body"},slot:"center-card-body"},[a(e.selfServiceType,{ref:"selfServiceStage",tag:"component",attrs:{selfServiceDetails:e.selfServiceDetails,apiType:e.apiType},on:{advanceStage:e.advanceStage}})],1),a("b-card-footer",{attrs:{slot:"center-card-footer"},slot:"center-card-footer"},[a("b-link",{attrs:{href:"#/login"}},[e._v(e._s(e.$t("pages.selfservice.signIn")))])],1)],1):a("b-container",{staticClass:"h-100 px-0",attrs:{fluid:""}},[a("div",{staticClass:"h-100 d-flex"},[a("div",{staticClass:"m-auto fr-center-card"},[a("bounce-loader",{attrs:{color:e.loadingColor}})],1)])])},r=[],i=a("2ef0"),n=a.n(i),l=a("8455"),c=a("b107"),o=a.n(c),u=a("13bf"),p=a("5aa8"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-alert",{attrs:{variant:"success",show:""}},[e._v(" "+e._s(e.$t("pages.selfservice.forgotUsername.emailSent"))+" ")])},d=[],v={name:"Email-Username"},m=v,h=a("2877"),y=Object(h["a"])(m,f,d,!1,null,null,null),b=y.exports,g=a("5adf"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"string"!==typeof e.selfServiceDetails.error?a("div",[a("b-alert",{attrs:{variant:"success",show:""}},[e._v(" "+e._s(e.$t("pages.selfservice.forgotUsername.yourUsername"))+" "),a("b",[e._v(e._s(e.selfServiceDetails.additions.userName))])])],1):a("div",[a("b-alert",{attrs:{variant:"danger",show:""}},[a("b",[e._v(e._s(e.$t("pages.selfservice.forgotUsername.unableToRetrieve")))]),a("p",[e._v(e._s(e.selfServiceDetails.error))])]),a("div",{staticClass:"mt-2"},[a("b-link",{attrs:{href:"#/forgotUsername"},on:{click:function(t){return e.$router.go(e.$router.currentRoute)}}},[e._v(" "+e._s(e.$t("pages.selfservice.forgotUsername.tryAgain"))+" ")])],1)],1)},k=[],S={name:"Retrieve-Username",props:{selfServiceDetails:{required:!0}}},C=S,$=Object(h["a"])(C,_,k,!1,null,null,null),D=$.exports,w=a("e5d2"),x=a("3b97"),F={name:"Forgot-Username",components:{Captcha:p["a"],EmailUsername:b,RetrieveUsername:D,UserQuery:x["a"],GenericSelfService:g["a"],"bounce-loader":l["BounceLoader"],"fr-center-card":u["a"]},data:function(){return{selfServiceType:null,selfServiceDetails:null,loadingColor:o.a.baseColor,apiType:"username"}},mounted:function(){this.loadData()},methods:{setChildComponent:function(e,t){this.selfServiceDetails=t;var a=!1;n.a.each(this.$options.components,(function(t,s){n.a.toLower(s)===n.a.toLower(e)&&(a=!0)})),this.selfServiceType=a?e:"GenericSelfService"},apiErrorCallback:function(e){this.setChildComponent("retrieveUsername",{error:e.response.data.message})}},mixins:[w["a"]]},T=F,U=Object(h["a"])(T,s,r,!1,null,null,null);t["default"]=U.exports},"3b97":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},submit:function(e){e.preventDefault()}}},[a("p",{staticClass:"text-center mb-4"},[e._v(" "+e._s(e.$t("pages.selfservice.passwordReset.userQuery"))+" ")]),a("b-form-group",[a("fr-floating-label-input",{attrs:{fieldName:"mail",label:e.$t("common.placeholders.emailAddress"),type:"text",autofocus:"true"},model:{value:e.mail,callback:function(t){e.mail=t},expression:"mail"}})],1),a("b-button",{attrs:{size:"lg",block:!0,variant:"primary"},on:{click:e.save}},["username"===e.apiType?a("div",[e._v(" "+e._s(e.$t("pages.selfservice.forgotUsername.advanceStageButtonText"))+" ")]):a("div",[e._v(" "+e._s(e.$t("pages.selfservice.passwordReset.advanceStageButtonText"))+" ")])])],1)},r=[],i=a("49c6"),n={name:"User-Query",components:{"fr-floating-label-input":i["a"]},props:{apiType:{required:!0}},data:function(){return{mail:""}},methods:{getData:function(){return{queryFilter:'mail eq "'.concat(this.mail,'"')}},save:function(){this.$emit("advanceStage",this.getData())}}},l=n,c=a("2877"),o=Object(c["a"])(l,s,r,!1,null,null,null);t["a"]=o.exports},"5aa8":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-4",attrs:{id:"captchaBody"}},[e.apiType?a("p",{staticClass:"text-center mb-4"},[e._v(" "+e._s(e.$t("pages.selfservice.headers."+e.apiType+".description"))+" ")]):e._e(),e._m(0)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recaptcha-wrapper "},[a("div",{staticClass:"recaptcha-bound"},[a("div",{attrs:{id:"recaptchaContainer"}})])])}],i=a("2ef0"),n=a.n(i),l={name:"Captcha",props:{advanceStage:{required:!1},selfServiceDetails:{required:!0},apiType:{required:!1}},created:function(){var e=document.createElement("script");e.setAttribute("src","https://www.google.com/recaptcha/api.js"),document.head.appendChild(e)},mounted:function(){this.loadRecaptcha()},methods:{loadRecaptcha:function(){var e=this;n.a.isUndefined(this.selfServiceDetails.requirements.properties.response.recaptchaSiteKey)||0===this.selfServiceDetails.requirements.properties.response.recaptchaSiteKey.length?this.displayNotification("error",this.$t("pages.selfservice.captchaError")):setTimeout((function(){"undefined"===typeof window.grecaptcha?e.loadRecaptcha():window.grecaptcha.render("recaptchaContainer",{sitekey:e.selfServiceDetails.requirements.properties.response.recaptchaSiteKey,callback:e.handleCaptchaCallback})}),500)},handleCaptchaCallback:function(e){this.recaptchaResponse=e,this.$listeners.advanceStage&&this.$emit("advanceStage",this.getData())},getData:function(){return{response:this.recaptchaResponse,"g-recaptcha-response":this.recaptchaResponse}}}},c=l,o=a("2877"),u=Object(o["a"])(c,s,r,!1,null,null,null);t["a"]=u.exports},"5adf":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.displayDetails,(function(t,s){return["string"===t.type||"number"===t.type?a("b-form-group",{key:"genericField"+s,attrs:{label:e._f("startCase")(t.key),"label-for":"field.key",horizontal:""}},["string"===t.type?a("b-form-input",{ref:0===s?"focusInput":"",refInFor:!0,attrs:{name:t.key,placeholder:t.text,type:"text",autocomplete:t.key},model:{value:e.saveFields[t.key],callback:function(a){e.$set(e.saveFields,t.key,"string"===typeof a?a.trim():a)},expression:"saveFields[field.key]"}}):e._e(),"number"===t.type?a("b-form-input",{ref:0===s?"focusInput":"",refInFor:!0,attrs:{horizontal:"",name:t.key,type:"number",autocomplete:t.key},model:{value:e.saveFields[t.key],callback:function(a){e.$set(e.saveFields,t.key,e._n(a))},expression:"saveFields[field.key]"}}):e._e()],1):e._e(),"boolean"===t.type?a("b-form-group",{key:"genericField"+s},[a("div",{staticClass:"form-row"},[a("label",{staticClass:"col-form-label col-sm-3",attrs:{for:t.key}},[e._v(e._s(e._f("startCase")(t.key)))]),a("div",{staticClass:"mr-auto"},[a("b-form-checkbox",{staticClass:"fr-toggle-primary",attrs:{switch:"",size:"lg"},model:{value:e.saveFields[t.key],callback:function(a){e.$set(e.saveFields,t.key,a)},expression:"saveFields[field.key]"}},[e._v(" "+e._s(e.saveFields[t.key]?e.$t("common.form.yes"):e.$t("common.form.no"))+" ")])],1)])]):e._e()]})),a("b-button",{staticClass:"mt-4",attrs:{block:!0,size:"lg",variant:"primary"},on:{click:e.save}},[e._v(" "+e._s(e.$t("common.form.submit"))+" ")])],2)},r=[],i=a("2ef0"),n=a.n(i),l={name:"Generic-Self-Service",props:{selfServiceDetails:{required:!0}},data:function(){var e={},t=[];return this.selfServiceDetails&&this.selfServiceDetails.requirements&&this.selfServiceDetails.requirements.properties&&n.a.each(this.selfServiceDetails.requirements.properties,(function(a,s){t.push({type:a.type,text:a.description,key:s}),"string"===a.type?e[s]="":"boolean"===a.type?e[s]=!1:e[s]=null})),{saveFields:e,displayDetails:t}},methods:{getData:function(){return this.saveFields},save:function(){this.$emit("advanceStage",this.getData())},isValid:function(){return Promise.resolve(!0)}},filters:{startCase:function(e){return n.a.startCase(e)}}},c=l,o=a("2877"),u=Object(o["a"])(c,s,r,!1,null,"798fd6ea",null);t["a"]=u.exports}}]);
//# sourceMappingURL=chunk-7b4805c4.fefd6d76.js.map