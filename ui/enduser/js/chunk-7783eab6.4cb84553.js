/*!
 * Copyright 2019-2020 ForgeRock AS. All Rights Reserved 
 *  Use of this code requires a commercial software license with ForgeRock AS. or with one of its affiliates. All use shall be exclusively subject to such license between the licensee and ForgeRock AS.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7783eab6"],{"31da":function(t,e,o){"use strict";o("da55")},5231:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{staticClass:"mb-3",attrs:{"no-body":""}},[t._t("list-group-header",[o("b-card-body",{staticClass:"py-4"},[o("h5",{class:[{"mb-4":t.subtitle,"mb-0":!t.subtitle},"card-title"]},[t._v(t._s(t.title))]),t.subtitle?o("h6",{staticClass:"card-subtitle mb-0 text-muted"},[t._v(t._s(t.subtitle))]):t._e()])]),o("b-list-group",{attrs:{flush:""}},[t._t("default")],2)],2)},l=[],s={name:"List-Group",props:{title:{type:String},subtitle:{type:String}},data:function(){return{}}},n=s,i=(o("31da"),o("2877")),c=Object(i["a"])(n,a,l,!1,null,"9e56b7f4",null);e["a"]=c.exports},"56a3":function(t,e,o){"use strict";o("7a6d")},"60f7":function(t,e,o){},"7a6d":function(t,e,o){},"8d59":function(t,e,o){"use strict";o("60f7")},9830:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.collapsible?o("div",{staticClass:"collapsible"},[o("b-list-group-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.toggleId,expression:"toggleId"}],class:[{"list-item-cursor":!1===t.collapsible}],attrs:{href:"#"}},[o("div",{staticClass:"media"},[t._t("list-item-header")],2)]),o("b-collapse",{attrs:{id:t.id,visible:t.panelShown},on:{hide:function(e){return t.$emit("hide")},show:function(e){return t.$emit("show")},hidden:function(e){return t.$emit("hidden")},shown:function(e){return t.$emit("shown")}}},[o("b-card-body",{staticClass:"pt-3"},[t._t("list-item-collapse-body")],2)],1)],1):o("div",{class:[{"fr-hover-item":t.hoverItem}],on:{click:function(e){return t.$emit("row-click")}}},[o("b-list-group-item",{staticClass:"noncollapse"},[o("div",{staticClass:"media"},[t._t("list-item-header")],2)]),t.panelShown?o("b-card-body",{staticClass:"pt-3"},[t._t("list-item-collapse-body")],2):t._e()],1)},l=[],s={name:"List-Item",props:{collapsible:{type:Boolean,default:!1},panelShown:{type:Boolean,default:!1},hoverItem:{type:Boolean,default:!1}},data:function(){return{id:null}},beforeMount:function(){this.id="listItem"+this._uid},computed:{toggleId:function(){return this.collapsible?this.id:null}}},n=s,i=(o("56a3"),o("2877")),c=Object(i["a"])(n,a,l,!1,null,"03c581be",null);e["a"]=c.exports},da55:function(t,e,o){},fbaf:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("fr-list-group",{attrs:{title:t.$t("pages.profile.accountControls.title"),subtitle:t.$t("pages.profile.accountControls.subtitle")}},[o("fr-list-item",{attrs:{collapsible:!1,panelShown:!1,hoverItem:!0},on:{"row-click":t.downloadAccount}},[o("div",{staticClass:"d-inline-flex w-100",attrs:{slot:"list-item-header"},slot:"list-item-header"},[o("div",{staticClass:"flex-grow-1"},[o("div",[t._v(" "+t._s(t.$t("pages.profile.accountControls.downloadTitle"))+" ")]),o("small",{staticClass:"text-muted subtext"},[t._v(t._s(t.$t("pages.profile.accountControls.downloadSubtitle")))])]),o("a",{staticClass:"align-self-center flex-grow-2 text-right",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(t.$t("pages.profile.accountControls.downloadLink")))])])]),o("fr-list-item",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteAccountModal",modifiers:{deleteAccountModal:!0}}],attrs:{collapsible:!1,panelShown:!1,hoverItem:!0}},[o("div",{staticClass:"d-inline-flex w-100",attrs:{slot:"list-item-header"},slot:"list-item-header"},[o("div",{staticClass:"flex-grow-1"},[o("div",[t._v(" "+t._s(t.$t("pages.profile.accountControls.deleteTitle"))+" ")]),o("small",{staticClass:"text-muted subtext"},[t._v(t._s(t.$t("pages.profile.accountControls.deleteSubtitle")))])]),o("a",{staticClass:"align-self-center flex-grow-2 text-right",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v(t._s(t.$t("pages.profile.accountControls.deleteAccount")))])])])],1),o("b-modal",{ref:"deleteModal",attrs:{id:"deleteAccountModal","modal-class":"fr-full-screen","cancel-variant":"outline-secondary"}},[o("div",{staticClass:"d-flex w-100 h-100",attrs:{slot:"modal-header"},slot:"modal-header"},[o("h5",{staticClass:"modal-title align-self-center text-center"},[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalTitle")))]),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.hideModal}},[o("i",{staticClass:"fa fa-times"})])]),o("b-container",[o("h1",{staticClass:"mb-4"},[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalHeader")))]),o("p",[t._v(" "+t._s(t.$t("pages.profile.accountControls.deleteModalDetails"))+" ")]),o("hr"),o("p",[t._v(" "+t._s(t.$t("pages.profile.accountControls.deleteModalDownload1"))+" "),o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.downloadAccount(e)}}},[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalDownload2")))]),t._v(" "+t._s(t.$t("pages.profile.accountControls.deleteModalDownload3"))+" ")]),o("hr"),o("h5",[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalContentList")))]),o("ul",[o("li",[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalContentListItem")))])]),o("div",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmDelete,expression:"confirmDelete"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"confirmDeleteCheck"},domProps:{checked:Array.isArray(t.confirmDelete)?t._i(t.confirmDelete,null)>-1:t.confirmDelete},on:{change:function(e){var o=t.confirmDelete,a=e.target,l=!!a.checked;if(Array.isArray(o)){var s=null,n=t._i(o,s);a.checked?n<0&&(t.confirmDelete=o.concat([s])):n>-1&&(t.confirmDelete=o.slice(0,n).concat(o.slice(n+1)))}else t.confirmDelete=l}}}),o("label",{staticClass:"custom-control-label",attrs:{for:"confirmDeleteCheck"}},[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalAcceptMessage")))])])]),o("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[o("div",{staticClass:"float-right"},[o("b-btn",{attrs:{variant:"outline-secondary mr-2"},on:{click:t.hideModal}},[t._v(t._s(t.$t("common.form.cancel")))]),o("b-btn",{attrs:{disabled:!t.confirmDelete,type:"button",variant:"danger"},on:{click:t.deleteAccount}},[t._v(t._s(t.$t("pages.profile.accountControls.deleteModalButton")))])],1)])],1)],1)},l=[],s=o("2ef0"),n=o.n(s),i=o("5231"),c=o("9830"),r={name:"Account-Controls",components:{"fr-list-group":i["a"],"fr-list-item":c["a"]},data:function(){return{confirmDelete:!1}},mounted:function(){},methods:{deleteAccount:function(){var t=this,e=this.getRequestService();e.delete("/".concat(this.$root.userStore.state.managedResource,"/").concat(this.$root.userStore.state.userId)).then((function(){t.$refs.deleteModal.hide(),t.displayNotification("success",t.$t("pages.profile.accountControls.deleteAccountSuccessful")),t.logoutUser()}))},downloadAccount:function(){var t=this.getRequestService();t.get("/".concat(this.$root.userStore.state.managedResource,"/").concat(this.$root.userStore.state.userId,"?_fields=*,idps/*,_meta/createDate,_meta/lastChanged,_meta/termsAccepted,_meta/loginCount"),[]).then((function(t){var e,o="";if(t.data._meta&&n.a.each(t._meta,(function(e,o){o.match("_")&&delete t._meta[o]})),t.data.idps&&n.a.each(t.idps,(function(t){n.a.each(t,(function(e,o){o.match("_")&&n.a.isNull(o.match("_meta"))&&delete t[o]}))})),delete t.data._rev,delete t.data.kbaInfo,e=JSON.stringify(t.data,null,4),navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:"data:application/json"}),o);var a=new Blob([e],{type:"data:application/json"}),l=document.createEvent("MouseEvents"),s=document.createElement("a");s.download="userProfile.json",s.href=window.URL.createObjectURL(a),s.dataset.downloadurl=["data:application/json",s.download,s.href].join(":"),l.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(l)}))},hideModal:function(){this.$refs.deleteModal.hide()}}},d=r,u=(o("8d59"),o("2877")),f=Object(u["a"])(d,a,l,!1,null,"7ce07d0e",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-7783eab6.4cb84553.js.map