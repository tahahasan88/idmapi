{"version":3,"sources":["webpack:///./src/components/access/RelationshipArray.vue?be31","webpack:///./src/components/access/EditResource.vue?9863","webpack:///./src/components/access/ObjectTypeEditor.vue?0c42","webpack:///src/components/access/ObjectTypeEditor.vue","webpack:///./src/components/access/ObjectTypeEditor.vue?b966","webpack:///./src/components/access/ObjectTypeEditor.vue","webpack:///./src/components/access/RelationshipArray.vue?1783","webpack:///src/components/access/RelationshipArray.vue","webpack:///./src/components/access/RelationshipArray.vue?8a1f","webpack:///./src/components/access/RelationshipArray.vue","webpack:///src/components/access/EditResource.vue","webpack:///./src/components/access/EditResource.vue?7e88","webpack:///./src/components/access/EditResource.vue","webpack:///./src/components/access/EditResource.vue?7cff"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","setIcon","_v","_s","displayName","secondaryTitle","canChangePassword","canDelete","attrs","directives","name","rawName","modifiers","$t","_e","displayProperties","length","formFields","disableSaveButton","resource","id","_l","objectTypeProperty","key","title","propName","getObjectTypeProperyDisplayProperties","readOnly","relationshipProperty","type","ref","slot","on","deleteResource","model","value","callback","$$v","$set","expression","passwordInputType","revealNew","showPassword","savePassword","staticRenderFns","field","index","isReadOnly","undefined","encryption","getRelationshipDisplayFields","displayField","displayFieldIndex","required","scopedSlots","_u","fn","validationContext","setSingletonRelationshipValue","refInFor","getValidationState","trim","_n","errors","saveResource","components","props","default","resourcePath","isOpenidmAdmin","subPropertyName","mixins","ResourceMixin","data","oldFormFields","methods","property","path","newSubProp","originalSubProp","saveData","idmInstance","_","tempDisplayErrors","mounted","hasDescription","displayProperty","component","relationshipArrayProperty","openCreateModal","selected","$event","$bvModal","show","removeModalId","showFilter","disableSortAndSearch","searchPlaceholder","nativeOn","indexOf","_k","keyCode","search","filter","clear","gridData","columns","tableHover","sortBy","sortDesc","sortDirection","resourceClicked","onRowSelected","sortingChanged","toggleSelectAll","allRowsSelected","proxy","onSelectRowCheckboxClicked","display","disabled","currentPage","preventDefault","paginationChange","_m","lastPage","createModalId","addNewRelationship","hide","newRelationships","saveNewRelationships","removeRelationships","parentId","parentResource","gridPageSize","queryThreshold","requiredProps","watch","col","computed","numChars","loadGrid","page","gridManagedObject","managedObjectsSettings","doLoad","label","sortable","catch","setDisableSortAndSearch","resourceCollection","resourceType","resourceName","setGridData","relationships","schema","relationship","promises","Promise","addRows","getRelationshipFieldsData","fields","buildGridUrl","resourceCollectionSchema","resourceUrl","resourceCollectionFields","sortUrl","item","params","resourceId","items","toggle","relationshipsToRemove","updateRelationship","operation","translation","loadAndCloseModal","sort","rowSelected","icon","displayNameField","displaySecondaryTitleField","objectTypeProperties","relationshipProperties","loadData","axios","then","buildResourceUrl","url","getObjectTypeProperties","privilege","isObjectTypeProperty","obj","getRelationshipProperties","isRelationship","generateDisplay","resourceDetails","tempProp","mergePrivilegeProperties","canUpdate","attribute","properties","tempDisplayName","tempIcon"],"mappings":"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","file":"js/chunk-38239c22.c67f261a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=style&index=0&id=042d10c6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"d-sm-flex my-4\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"rounded-circle fr-resource-circle text-light bg-primary mr-4\"},[_c('i',{class:_vm.setIcon})]),_c('div',{staticClass:\"media-body\"},[_c('h1',[_vm._v(_vm._s(_vm.displayName))]),_c('h6',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.secondaryTitle))])])]),(_vm.canChangePassword || _vm.canDelete)?_c('div',{staticClass:\"ml-auto my-4 my-sm-0 align-self-center align-self-end\"},[_c('b-dropdown',{staticClass:\"m-md-2\",attrs:{\"id\":\"resourceActions\",\"text\":\"Actions\",\"right\":\"\",\"variant\":\"primary\"}},[(_vm.canChangePassword)?_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.resetModal\",modifiers:{\"resetModal\":true}}]},[_vm._v(_vm._s(_vm.$t('pages.access.resetPassword')))]):_vm._e(),(_vm.canDelete)?_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.deleteModal\",modifiers:{\"deleteModal\":true}}]},[_vm._v(_vm._s(_vm.$t(\"common.form.delete\"))+\" \"+_vm._s(this.name))]):_vm._e()],1)],1):_vm._e()])])],1),_c('b-tabs',{attrs:{\"content-class\":\"mt-4\",\"nav-class\":\"nav-bar-border\",\"flex-column\":\"\",\"flex-sm-row\":\"\"}},[_c('b-tab',{attrs:{\"title\":this.$t('pages.access.details'),\"active\":\"\"}},[(_vm.displayProperties.length > 0)?_c('fr-object-type-editor',{attrs:{\"form-fields\":_vm.formFields,\"display-properties\":_vm.displayProperties,\"disable-save-button\":_vm.disableSaveButton,\"resource-path\":(_vm.resource + \"/\" + _vm.name + \"/\" + _vm.id)}}):_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('pages.access.noAvailableProperties'))+\" \")])],1),_vm._l((_vm.objectTypeProperties),function(objectTypeProperty){return _c('b-tab',{key:((objectTypeProperty.propName) + \"_tab\"),attrs:{\"title\":objectTypeProperty.title}},[_c('fr-object-type-editor',{attrs:{\"form-fields\":_vm.formFields[objectTypeProperty.propName] || {},\"sub-property-name\":objectTypeProperty.propName,\"display-properties\":_vm.getObjectTypeProperyDisplayProperties(objectTypeProperty),\"disable-save-button\":objectTypeProperty.readOnly,\"resource-path\":(_vm.resource + \"/\" + _vm.name + \"/\" + _vm.id)}})],1)}),_vm._l((_vm.relationshipProperties),function(relationshipProperty){return [(relationshipProperty.type === 'array')?_c('b-tab',{key:((relationshipProperty.propName) + \"_tab\"),attrs:{\"title\":relationshipProperty.title}},[_c('fr-relationship-array',{attrs:{\"parentResource\":_vm.resource + \"/\" + _vm.name,\"parentId\":_vm.id,\"relationshipArrayProperty\":relationshipProperty}})],1):_vm._e()]})],2),(_vm.canDelete)?_c('b-modal',{ref:\"deleteModal\",attrs:{\"id\":\"deleteModal\",\"title\":this.$t('pages.access.deleteModalTitle')}},[_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('pages.access.deleteConfirm'))+\" \"+_vm._s(this.name)+\"? \")]),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"danger\"},on:{\"click\":_vm.deleteResource}},[_vm._v(_vm._s(_vm.$t('common.form.delete')))])],1)])]):_vm._e(),(_vm.canChangePassword)?_c('b-modal',{ref:\"resetModal\",attrs:{\"id\":\"resetModal\",\"title\":this.$t('pages.access.resetPassword')}},[_c('fr-password-policy-input',{attrs:{\"policyApi\":(_vm.resource + \"/\" + _vm.name + \"/policyTest\")},model:{value:(_vm.formFields['password']),callback:function ($$v) {_vm.$set(_vm.formFields, 'password', $$v)},expression:\"formFields['password']\"}},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"slot\":\"custom-input\"},slot:\"custom-input\"},[_c('label',{attrs:{\"for\":\"updatePassword\"}},[_vm._v(_vm._s(_vm.$t('pages.access.password')))]),_c('div',{staticClass:\"form-label-password form-label-group mb-0\"},[_c('b-form-input',{attrs:{\"id\":\"updatePassword\",\"autocomplete\":\"password\",\"type\":_vm.passwordInputType,\"name\":\"password\"},model:{value:(_vm.formFields['password']),callback:function ($$v) {_vm.$set(_vm.formFields, 'password', $$v)},expression:\"formFields['password']\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.revealNew}},[_c('i',{class:[{'fa-eye-slash': !_vm.showPassword}, {'fa-eye': _vm.showPassword}, 'fa']})])])],1)])],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.savePassword}},[_vm._v(_vm._s(_vm.$t('common.form.save')))])],1)])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',[_c('ValidationObserver',{ref:\"observer\",attrs:{\"slim\":\"\"}},[_vm._l((_vm.displayProperties),function(field,index){return [(!field.isReadOnly && !_vm.disableSaveButton)?[((field.type === 'string' || field.type === 'number' || field.type === 'boolean' || field.type === 'relationship'))?_c('ValidationProvider',{key:'editResource' +field.key,attrs:{\"name\":field.title,\"vid\":field.key,\"rules\":field.required ? 'required' : ''},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [((field.type === 'string' || field.type === 'number') && field.encryption === undefined)?_c('b-form-group',{attrs:{\"label\":field.title,\"label-for\":\"field.key\",\"horizontal\":\"\"}},[(field.type === 'string')?_c('b-form-input',{ref:index === 0 ? 'focusInput' : '',refInFor:true,attrs:{\"name\":field.key,\"type\":\"text\",\"state\":_vm.getValidationState(validationContext),\"autocomplete\":field.key},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formFields[field.key]\"}}):_c('b-form-input',{ref:index === 0 ? 'focusInput' : '',refInFor:true,attrs:{\"horizontal\":\"\",\"name\":field.key,\"type\":\"number\",\"state\":_vm.getValidationState(validationContext),\"autocomplete\":field.key},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, _vm._n($$v))},expression:\"formFields[field.key]\"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(validationContext.errors[0]))])],1):(field.type === 'relationship')?_c('fr-relationship-edit',{key:'editResource' +index,attrs:{\"relationshipProperty\":field,\"index\":index,\"value\":_vm.formFields[field.key],\"setValue\":_vm.setSingletonRelationshipValue}}):_vm._e(),(field.type === 'boolean')?_c('b-form-group',{key:'editResource' + index},[_c('div',{staticClass:\"form-row\"},[_c('label',{staticClass:\"col-form-label col-sm-3\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),_c('b-form-checkbox',{staticClass:\"mt-1 fr-toggle-primary\",attrs:{\"switch\":\"\",\"size\":\"lg\"},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}},[_vm._v(\" \"+_vm._s(_vm.formFields[field.key] ? _vm.$t('common.form.yes') : _vm.$t('common.form.no'))+\" \")])],1)]):_vm._e()]}}],null,true)}):_vm._e()]:[((field.type === 'string' || field.type === 'number') && field.encryption === undefined)?_c('b-form-group',{key:'readResource' +index,attrs:{\"label\":field.title,\"label-for\":\"field.key\",\"horizontal\":\"\"}},[_c('b-form-input',{attrs:{\"horizontal\":\"\",\"type\":\"text\",\"plaintext\":\"\"},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}})],1):_vm._e(),(field.type === 'boolean')?_c('b-form-group',{key:'readResource' + index},[_c('div',{staticClass:\"form-row\"},[_c('label',{staticClass:\"col-form-label col-sm-3\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),_c('b-form-checkbox',{staticClass:\"mt-1 fr-toggle-primary\",attrs:{\"switch\":\"\",\"size\":\"lg\",\"disabled\":true},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}},[_vm._v(\" \"+_vm._s(_vm.formFields[field.key] ? _vm.$t('common.form.yes') : _vm.$t('common.form.no'))+\" \")])],1)]):_vm._e(),(field.type === 'relationship')?_c('b-form-group',{key:'readResource' +index},[_c('div',{staticClass:\"form-row\"},[_c('label',{staticClass:\"col-form-label col-sm-3\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),(_vm.formFields[field.key])?_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"text-bold pl-1\"},[_vm._v(_vm._s(_vm.formFields[field.key][_vm.getRelationshipDisplayFields(field, _vm.formFields[field.key])[0]]))]),_c('div',_vm._l((_vm.getRelationshipDisplayFields(field, _vm.formFields[field.key])),function(displayField,displayFieldIndex){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(displayFieldIndex !== 0),expression:\"displayFieldIndex !== 0\"}],key:(\"displayField_\" + displayField + \"_\" + displayFieldIndex),staticClass:\"pl-1 pr-1 text-muted\"},[_vm._v(\" \"+_vm._s(_vm.formFields[field.key][displayField])+\" \")])}),0)]):_vm._e()])]):_vm._e()]]})],2),(!_vm.disableSaveButton)?_c('div',{staticClass:\"float-right mt-4\"},[_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.saveResource}},[_vm._v(_vm._s(_vm.$t('common.form.save')))])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright (c) 2020 ForgeRock. All rights reserved.\n\nThis software may be modified and distributed under the terms\nof the MIT license. See the LICENSE file for details.\n-->\n\n<template>\n  <b-card>\n      <ValidationObserver ref=\"observer\" slim>\n          <template v-for=\"(field, index) in displayProperties\">\n              <template v-if=\"!field.isReadOnly && !disableSaveButton\">\n                  <ValidationProvider v-if=\"(field.type === 'string' || field.type === 'number' || field.type === 'boolean' || field.type === 'relationship')\" :key=\"'editResource' +field.key\" :name=\"field.title\" :vid=\"field.key\" :rules=\"field.required ? 'required' : ''\" v-slot=\"validationContext\">\n                      <b-form-group :label=\"field.title\" label-for=\"field.key\" horizontal v-if=\"(field.type === 'string' || field.type === 'number') && field.encryption === undefined\">\n                          <b-form-input v-if=\"field.type === 'string'\" :ref=\"index === 0 ? 'focusInput' : ''\"\n                              :name=\"field.key\"\n                              type=\"text\"\n                              :state=\"getValidationState(validationContext)\"\n                              :autocomplete=\"field.key\"\n                              v-model.trim=\"formFields[field.key]\"></b-form-input>\n\n                          <b-form-input v-else horizontal :ref=\"index === 0 ? 'focusInput' : ''\"\n                              :name=\"field.key\"\n                              type=\"number\"\n                              :state=\"getValidationState(validationContext)\"\n                              :autocomplete=\"field.key\"\n                              v-model.number=\"formFields[field.key]\"></b-form-input>\n                          <b-form-invalid-feedback>{{ validationContext.errors[0] }}</b-form-invalid-feedback>\n                      </b-form-group>\n\n                      <fr-relationship-edit v-else-if=\"field.type === 'relationship'\"\n                          :relationshipProperty='field'\n                          :key=\"'editResource' +index\"\n                          :index=\"index\"\n                          :value=\"formFields[field.key]\"\n                          :setValue=\"setSingletonRelationshipValue\" />\n\n                      <!-- for boolean values -->\n                      <b-form-group :key=\"'editResource' + index\" v-if=\"field.type === 'boolean'\">\n                          <div class=\"form-row\">\n                              <label class=\"col-form-label col-sm-3\" :for=\"field.title\">{{field.title}}</label>\n\n                              <b-form-checkbox\n                                  switch\n                                  size=\"lg\"\n                                  class=\"mt-1 fr-toggle-primary\"\n                                  v-model=\"formFields[field.key]\">\n                                  {{ formFields[field.key] ? $t('common.form.yes') : $t('common.form.no') }}\n                              </b-form-checkbox>\n                          </div>\n                      </b-form-group>\n                  </ValidationProvider>\n              </template>\n              <template v-else>\n                  <b-form-group :label=\"field.title\" label-for=\"field.key\" horizontal :key=\"'readResource' +index\" v-if=\"(field.type === 'string' || field.type === 'number') && field.encryption === undefined\">\n                      <b-form-input horizontal\n                          type=\"text\"\n                          plaintext\n                          v-model=\"formFields[field.key]\"></b-form-input>\n                  </b-form-group>\n\n                  <!-- for boolean values -->\n                  <b-form-group :key=\"'readResource' + index\" v-if=\"field.type === 'boolean'\">\n                      <div class=\"form-row\">\n                          <label class=\"col-form-label col-sm-3\" :for=\"field.title\">{{field.title}}</label>\n\n                          <b-form-checkbox\n                              switch\n                              size=\"lg\"\n                              class=\"mt-1 fr-toggle-primary\"\n                              v-model=\"formFields[field.key]\"\n                              :disabled=\"true\">\n                              {{ formFields[field.key] ? $t('common.form.yes') : $t('common.form.no') }}\n                          </b-form-checkbox>\n                      </div>\n                  </b-form-group>\n\n                  <!-- for singletonRelationhip values -->\n                  <b-form-group\n                      :key=\"'readResource' +index\"\n                      v-if=\"field.type === 'relationship'\">\n                      <div class=\"form-row\">\n                          <label class=\"col-form-label col-sm-3\" :for=\"field.title\">{{field.title}}</label>\n                          <div v-if=\"formFields[field.key]\" class=\"media-body\">\n                              <!-- Using the first display field here \"[0]\"-->\n                              <div class=\"text-bold pl-1\">{{formFields[field.key][getRelationshipDisplayFields(field, formFields[field.key])[0]]}}</div>\n                              <div>\n                                  <!-- Loop over the rest of the display fields and print each in a span -->\n                                  <span\n                                      v-for=\"(displayField, displayFieldIndex) in getRelationshipDisplayFields(field, formFields[field.key])\"\n                                      :key=\"`displayField_${displayField}_${displayFieldIndex}`\"\n                                      v-show=\"displayFieldIndex !== 0\"\n                                      class=\"pl-1 pr-1 text-muted\">\n                                      {{formFields[field.key][displayField]}}\n                                  </span>\n                              </div>\n                          </div>\n                      </div>\n                  </b-form-group>\n              </template>\n          </template>\n      </ValidationObserver>\n      <div v-if=\"!disableSaveButton\" class=\"float-right mt-4\">\n          <b-btn type=\"button\" @click=\"saveResource\" variant=\"primary\">{{$t('common.form.save')}}</b-btn>\n      </div>\n  </b-card>\n</template>\n\n<script>\n\nimport _ from 'lodash';\nimport RelationshipEdit from '@/components/access/RelationshipEdit';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\n\nexport default {\n    name: 'ObjectTypeEditor',\n    components: {\n        'fr-relationship-edit': RelationshipEdit\n    },\n    props: {\n        displayProperties: {\n            type: Array,\n            default: () => []\n        },\n        formFields: {\n            type: Object,\n            default: () => {}\n        },\n        resourcePath: {\n            type: String,\n            default: ''\n        },\n        disableSaveButton: {\n            type: Boolean,\n            default: false\n        },\n        isOpenidmAdmin: {\n            type: Boolean,\n            default: false\n        },\n        subPropertyName: {\n            type: String,\n            default: null,\n            required: false\n        }\n    },\n    mixins: [\n        ResourceMixin\n    ],\n    data () {\n        return {\n            oldFormFields: {}\n        };\n    },\n    methods: {\n        getRelationshipDisplayFields (property, value) {\n            return _.find(property.resourceCollection, { path: value._refResourceCollection }).query.fields;\n        },\n        setSingletonRelationshipValue (property, value) {\n            this.formFields[property] = value;\n        },\n        saveResource () {\n            this.$refs.observer.reset();\n            const idmInstance = this.getRequestService();\n            this.$refs.observer.validate().then((valid) => {\n                if (valid) {\n                    let saveData;\n\n                    if (this.subPropertyName) {\n                        const originalSubProp = {},\n                            newSubProp = {};\n\n                        originalSubProp[this.subPropertyName] = _.clone(this.oldFormFields);\n                        newSubProp[this.subPropertyName] = _.clone(this.formFields);\n\n                        saveData = this.generateUpdatePatch(originalSubProp, newSubProp);\n                    } else {\n                        saveData = this.generateUpdatePatch(_.clone(this.oldFormFields), _.clone(this.formFields));\n                    }\n\n                    idmInstance.patch(this.resourcePath, saveData).then(() => {\n                        this.oldFormFields = _.clone(this.formFields);\n                        this.displayNotification('success', this.$t('pages.access.successEdited', { resource: _.capitalize(this.name) }));\n                    },\n                    (error) => {\n                        let generatedErrors = this.findPolicyError(error.response, this.displayProperties);\n\n                        if (generatedErrors.length > 0) {\n                            let tempDisplayErrors = {};\n\n                            _.each(generatedErrors, (generatedError) => {\n                                if (generatedError.exists) {\n                                    if (tempDisplayErrors[generatedError.field] !== undefined) {\n                                        tempDisplayErrors[generatedError.field].push(generatedError.msg);\n                                    } else {\n                                        tempDisplayErrors[generatedError.field] = [generatedError.msg];\n                                    }\n                                }\n                            });\n                            this.$refs.observer.setErrors(tempDisplayErrors);\n                        } else {\n                            this.displayNotification('error', this.$t('pages.access.invalidEdit'));\n                        }\n                    });\n                } else {\n                    this.displayNotification('error', this.$t('pages.access.invalidEdit'));\n                }\n            });\n        }\n    },\n    mounted () {\n        // make sure display properties have a title\n        this.displayProperties.forEach((displayProperty) => {\n            const hasTitle = displayProperty.title && displayProperty.title.length > 0,\n                hasDescription = displayProperty.description && displayProperty.description.length > 0;\n            if (!hasTitle && hasDescription) {\n                displayProperty.title = displayProperty.description;\n            }\n        });\n\n        this.oldFormFields = _.clone(this.formFields);\n    }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectTypeEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectTypeEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ObjectTypeEditor.vue?vue&type=template&id=a61b32f0&\"\nimport script from \"./ObjectTypeEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ObjectTypeEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mt-3\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.relationshipArrayProperty.isReadOnly),expression:\"!relationshipArrayProperty.isReadOnly\"}],staticClass:\"px-4 py-2\"},[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"5\"}},[_c('b-btn',{staticClass:\"mr-1\",attrs:{\"type\":\"button\",\"variant\":\"primary\",\"id\":'add_' + _vm.relationshipArrayProperty.key},on:{\"click\":_vm.openCreateModal}},[_c('i',{staticClass:\"fa fa-plus mr-3\"}),_vm._v(_vm._s(_vm.$t(\"common.form.new\"))+\" \"+_vm._s(_vm.relationshipArrayProperty.title)+\" \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected.length > 0),expression:\"selected.length > 0\"}],attrs:{\"variant\":\"outline-primary\",\"id\":'delete_' + _vm.relationshipArrayProperty.key},on:{\"click\":function($event){return _vm.$bvModal.show(_vm.removeModalId)}}},[_c('i',{staticClass:\"fa fa-trash mr-3\"}),_vm._v(_vm._s(_vm.$t(\"common.form.remove\"))+\" \")])],1),(_vm.showFilter && !_vm.disableSortAndSearch)?_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"7\"}},[_c('div',{staticClass:\"d-flex\"},[_c('b-input-group',[_c('b-input-group-prepend',[_c('div',{staticClass:\"input-group-text inset\"},[_c('i',{staticClass:\"fa fa-search\"})])]),_c('b-form-input',{staticClass:\"inset-left inset-right\",attrs:{\"placeholder\":_vm.searchPlaceholder},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-btn',{staticClass:\"inset clear\",attrs:{\"variant\":\"outline-default\",\"disabled\":!_vm.filter},on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"fa fa-times-circle\"})])],1)],1)],1)]):_vm._e()],1)],1),_c('b-table',{ref:\"relationshipArrayGrid\",staticClass:\"mb-0\",class:[{'hide-header': !_vm.gridData.length }],attrs:{\"show-empty\":\"\",\"table-responsive\":\"\",\"stacked\":\"lg\",\"fields\":_vm.columns,\"items\":_vm.gridData,\"per-page\":0,\"hover\":_vm.tableHover,\"no-local-sorting\":true,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"sort-direction\":_vm.sortDirection,\"selectable\":!_vm.relationshipArrayProperty.isReadOnly,\"selected-variant\":\"active\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"row-clicked\":_vm.resourceClicked,\"row-selected\":_vm.onRowSelected,\"sort-changed\":_vm.sortingChanged},scopedSlots:_vm._u([{key:\"head(selected)\",fn:function(){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gridData.length > 0),expression:\"gridData.length > 0\"}],staticClass:\"cursor-pointer\"},[_c('b-form-checkbox',{staticClass:\"pl-4\",on:{\"change\":_vm.toggleSelectAll},model:{value:(_vm.allRowsSelected),callback:function ($$v) {_vm.allRowsSelected=$$v},expression:\"allRowsSelected\"}})],1)]},proxy:true},{key:\"cell(selected)\",fn:function(data){return [_c('b-form-checkbox',{staticClass:\"pl-4\",attrs:{\"id\":(\"rowSelectCheckbox_\" + (_vm.relationshipArrayProperty.key) + (data.index))},on:{\"change\":function($event){return _vm.onSelectRowCheckboxClicked($event, data.index)}},model:{value:(data.rowSelected),callback:function ($$v) {_vm.$set(data, \"rowSelected\", $$v)},expression:\"data.rowSelected\"}})]}},{key:\"cell(_relationshipDetails)\",fn:function(data){return [_c('div',{staticClass:\"media cursor-pointer\"},[_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"text-bold\"},[_vm._v(_vm._s(data.value[0]))]),_c('div',_vm._l((data.value),function(display,index){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(index !== 0),expression:\"index !== 0\"}],key:(\"displayField_\" + display + \"_\" + index),staticClass:\"pr-1 text-muted\"},[_vm._v(\" \"+_vm._s(display)+\" \")])}),0)])])]}}])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gridData.length),expression:\"gridData.length\"}],staticClass:\"card-footer py-2\"},[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination justify-content-center mb-0\"},[_c('li',{class:[{ disabled: _vm.currentPage === 1 }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.currentPage === 1 ? '' : _vm.paginationChange(1)}}},[_vm._m(0)]),_c('li',{class:[{ disabled: _vm.currentPage === 1 }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.currentPage === 1 ? '' : _vm.paginationChange(_vm.currentPage - 1)}}},[_vm._m(1)]),_c('li',{class:[{ disabled: _vm.lastPage }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.lastPage ?  '' : _vm.paginationChange(_vm.currentPage + 1)}}},[_vm._m(2)])])])]),_c('b-modal',{ref:_vm.createModalId,attrs:{\"id\":_vm.createModalId,\"title\":'Add ' + _vm.relationshipArrayProperty.title}},[_c('fr-relationship-edit',{attrs:{\"relationshipProperty\":_vm.relationshipArrayProperty,\"index\":0,\"setValue\":_vm.addNewRelationship}}),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"variant\":\"outline-secondary mr-2\"},on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.createModalId)}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.form.cancel'))+\" \")]),_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\",\"id\":(\"save_new_\" + (_vm.relationshipArrayProperty.key)),\"disabled\":_vm.newRelationships.length === 0},on:{\"click\":_vm.saveNewRelationships}},[_vm._v(\" \"+_vm._s(_vm.$t('common.form.save'))+\" \")])],1)])],1),_c('b-modal',{ref:_vm.removeModalId,attrs:{\"id\":_vm.removeModalId,\"title\":_vm.$t('pages.access.removeModalTitle')}},[_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('pages.access.removeConfirm'))+\" \"+_vm._s(_vm.relationshipArrayProperty.title)+\"? \")]),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"variant\":\"btn-link text-danger mr-2\"},on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.removeModalId)}}},[_vm._v(_vm._s(_vm.$t('common.form.cancel')))]),_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"danger\"},on:{\"click\":_vm.removeRelationships}},[_vm._v(_vm._s(_vm.$t('common.form.remove')))])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-double-left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-right\"})])}]\n\nexport { render, staticRenderFns }","<!--\nCopyright (c) 2020-2023 ForgeRock. All rights reserved.\n\nThis software may be modified and distributed under the terms\nof the MIT license. See the LICENSE file for details.\n-->\n\n<template>\n    <div class=\"card mt-3\">\n        <div v-show=\"!relationshipArrayProperty.isReadOnly\" class=\"px-4 py-2\">\n            <b-row>\n                <b-col md=\"5\" class=\"my-1\">\n                    <b-btn\n                        type=\"button\"\n                        variant=\"primary\"\n                        class=\"mr-1\"\n                        @click=\"openCreateModal\"\n                        :id=\"'add_' + relationshipArrayProperty.key\">\n                            <i class=\"fa fa-plus mr-3\"></i>{{$t(\"common.form.new\")}} {{relationshipArrayProperty.title}}\n                    </b-btn>\n                    <b-button\n                        v-show=\"selected.length > 0\"\n                        variant=\"outline-primary\"\n                        @click=\"$bvModal.show(removeModalId)\"\n                        :id=\"'delete_' + relationshipArrayProperty.key\">\n                            <i class=\"fa fa-trash mr-3\"></i>{{$t(\"common.form.remove\")}}\n                    </b-button>\n                </b-col>\n                <b-col v-if=\"showFilter && !disableSortAndSearch\" md=\"7\" class=\"my-1\">\n                    <div class=\"d-flex\">\n                        <b-input-group>\n                            <b-input-group-prepend>\n                                <div class=\"input-group-text inset\">\n                                    <i class='fa fa-search'></i>\n                                </div>\n                            </b-input-group-prepend>\n                            <b-form-input v-model=\"filter\" @keyup.native.enter=\"search\" :placeholder=\"searchPlaceholder\" class=\"inset-left inset-right\"></b-form-input>\n                            <b-input-group-append>\n                                <b-btn variant=\"outline-default\" :disabled=\"!filter\" @click=\"clear\" class=\"inset clear\"><i class=\"fa fa-times-circle\"></i></b-btn>\n                            </b-input-group-append>\n                        </b-input-group>\n                    </div>\n                </b-col>\n            </b-row>\n        </div>\n\n        <b-table\n            show-empty\n            ref=\"relationshipArrayGrid\"\n            table-responsive\n            stacked=\"lg\"\n            :fields=\"columns\"\n            :items=\"gridData\"\n            :per-page=\"0\"\n            :hover=\"tableHover\"\n            :no-local-sorting=\"true\"\n            :sort-by.sync=\"sortBy\"\n            :sort-desc.sync=\"sortDesc\"\n            :sort-direction=\"sortDirection\"\n            class=\"mb-0\"\n            :selectable=\"!relationshipArrayProperty.isReadOnly\"\n            selected-variant=\"active\"\n            @row-clicked=\"resourceClicked\"\n            @row-selected=\"onRowSelected\"\n            @sort-changed=\"sortingChanged\"\n            :class=\"[{'hide-header': !gridData.length }]\">\n                <template #head(selected)>\n                    <div\n                        v-show=\"gridData.length > 0\"\n                        class=\"cursor-pointer\">\n                            <b-form-checkbox\n                                class=\"pl-4\"\n                                v-model=\"allRowsSelected\"\n                                @change=\"toggleSelectAll\"/>\n                    </div>\n                </template>\n                <template #cell(selected)=\"data\">\n                    <b-form-checkbox\n                        class=\"pl-4\"\n                        :id=\"`rowSelectCheckbox_${relationshipArrayProperty.key}${data.index}`\"\n                        @change=\"onSelectRowCheckboxClicked($event, data.index)\"\n                        v-model=\"data.rowSelected\"/>\n                </template>\n                <template v-slot:cell(_relationshipDetails)=\"data\">\n                    <div class=\"media cursor-pointer\">\n                        <div class=\"media-body\">\n                            <div class=\"text-bold\">{{data.value[0]}}</div>\n                            <div>\n                                <span\n                                    v-for=\"(display, index) in data.value\"\n                                    :key=\"`displayField_${display}_${index}`\"\n                                    v-show=\"index !== 0\"\n                                    class=\"pr-1 text-muted\">\n                                        {{display}}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </template>\n        </b-table>\n\n        <div v-show=\"gridData.length\" class=\"card-footer py-2\">\n            <nav aria-label=\"Page navigation example\">\n                <ul class=\"pagination justify-content-center mb-0\">\n                    <li @click.prevent=\"currentPage === 1 ? '' : paginationChange(1)\" :class=\"[{ disabled: currentPage === 1 }, 'page-item']\">\n                        <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-double-left'></i></a>\n                    </li>\n                    <li @click.prevent=\"currentPage === 1 ? '' : paginationChange(currentPage - 1)\" :class=\"[{ disabled: currentPage === 1 }, 'page-item']\">\n                        <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-left'></i></a>\n                    </li>\n                    <li  @click.prevent=\"lastPage ?  '' : paginationChange(currentPage + 1)\" :class=\"[{ disabled: lastPage }, 'page-item']\">\n                        <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-right'></i></a>\n                    </li>\n                </ul>\n            </nav>\n        </div>\n        <b-modal\n            :id=\"createModalId\"\n            :ref=\"createModalId\"\n            :title=\"'Add ' + relationshipArrayProperty.title\">\n\n            <fr-relationship-edit\n                :relationshipProperty='relationshipArrayProperty'\n                :index=\"0\"\n                :setValue=\"addNewRelationship\" />\n\n            <div slot=\"modal-footer\" class=\"w-100\">\n                <div class=\"float-right\">\n                    <b-btn\n                        variant=\"outline-secondary mr-2\"\n                        @click=\"$bvModal.hide(createModalId)\">\n                            {{$t('common.form.cancel')}}\n                    </b-btn>\n                    <b-btn\n                        type=\"button\"\n                        variant=\"primary\"\n                        :id=\"`save_new_${relationshipArrayProperty.key}`\"\n                        @click=\"saveNewRelationships\"\n                        :disabled=\"newRelationships.length === 0\">\n                            {{$t('common.form.save')}}\n                    </b-btn>\n                </div>\n            </div>\n        </b-modal>\n\n        <b-modal\n            :id=\"removeModalId\"\n            :ref=\"removeModalId\"\n            :title=\"$t('pages.access.removeModalTitle')\">\n                <div>\n                    {{$t('pages.access.removeConfirm')}} {{relationshipArrayProperty.title}}?\n                </div>\n                <div slot=\"modal-footer\" class=\"w-100\">\n                    <div class=\"float-right\">\n                        <b-btn variant=\"btn-link text-danger mr-2\" @click=\"$bvModal.hide(removeModalId)\">{{$t('common.form.cancel')}}</b-btn>\n                        <b-btn type=\"button\" variant=\"danger\" @click=\"removeRelationships\">{{$t('common.form.remove')}}</b-btn>\n                    </div>\n                </div>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nimport {\n    find,\n    toArray,\n    pick,\n    last,\n    map,\n    has,\n    isNull\n} from 'lodash';\nimport pluralize from 'pluralize';\nimport RelationshipEdit from '@/components/access/RelationshipEdit';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\n\nexport default {\n    name: 'RelationshipArray',\n    components: {\n        'fr-relationship-edit': RelationshipEdit\n    },\n    mixins: [\n        ResourceMixin\n    ],\n    props: {\n        parentId: {\n            type: String,\n            required: true\n        },\n        relationshipArrayProperty: {\n            type: Object,\n            required: true\n        },\n        parentResource: {\n            type: String,\n            required: true\n        }\n    },\n    data () {\n        return {\n            gridPageSize: 10,\n            allRowsSelected: false,\n            tableHover: true,\n            gridData: [],\n            columns: [],\n            currentPage: 1,\n            sortBy: null,\n            sortDesc: false,\n            filter: '',\n            lastPage: false,\n            sortDirection: 'asc',\n            createModalId: `create_${this.relationshipArrayProperty.propName}_modal`,\n            removeModalId: `delete_${this.relationshipArrayProperty.propName}_modal`,\n            newRelationships: [],\n            selected: [],\n            showFilter: false,\n            queryThreshold: null,\n            disableSortAndSearch: false,\n            requiredProps: [\n                '_ref',\n                '_refResourceCollection',\n                '_refResourceId',\n                '_refProperties'\n            ]\n        };\n    },\n    watch: {\n        gridData () {\n            // disallow sorting if there is a queryThreshold and the filter doesn't have at least the same number of chars as queryThreshold\n            this.columns = this.columns.map((col) => {\n                if (col.key !== 'actions') {\n                    col.sortable = (!this.disableSortAndSearch && !this.queryThreshold) || (this.filter.length >= this.queryThreshold);\n                }\n\n                return col;\n            });\n        }\n    },\n    computed: {\n        searchPlaceholder () {\n            if (this.queryThreshold) {\n                return this.$t('pages.access.typeAtLeastAndEnterToSearch', { numChars: this.queryThreshold });\n            }\n            return this.$t('pages.access.typeAndEnterToSearch');\n        }\n    },\n    mounted () {\n        this.loadGrid(1);\n    },\n    methods: {\n        loadGrid (page) {\n            const idmInstance = this.getRequestService(),\n                gridManagedObject = this.relationshipArrayProperty.items.resourceCollection[0].path.split('/')[1],\n                managedObjectsSettings = this.$root.applicationStore.state.managedObjectsSettings,\n                doLoad = (resourceCollectionSchema) => {\n                    /* istanbul ignore next */\n                    idmInstance.get(this.buildGridUrl(page, resourceCollectionSchema)).then((resourceData) => {\n                        if (resourceData.data.pagedResultsCookie) {\n                            this.lastPage = false;\n                        } else {\n                            this.lastPage = true;\n                        }\n\n                        if (!this.relationshipArrayProperty.isReadOnly) {\n                            this.columns.push({\n                                key: 'selected',\n                                label: '',\n                                class: 'checkbox-column'\n                            });\n                        }\n\n                        if (resourceCollectionSchema) {\n                            this.relationshipArrayProperty.items.resourceCollection[0].query.fields.forEach((fieldName) => {\n                                this.columns.push({\n                                    key: fieldName,\n                                    label: resourceCollectionSchema.properties[fieldName].title || pluralize.singular(fieldName),\n                                    sortable: true,\n                                    sortDirection: 'desc'\n                                });\n                            });\n                        } else {\n                            this.columns.push({\n                                key: '_relationshipDetails',\n                                label: pluralize.singular(this.relationshipArrayProperty.title)\n                            });\n                        }\n\n                        this.gridData = [];\n                        this.setGridData(resourceData.data.result, this.relationshipArrayProperty);\n                    }).catch((error) => {\n                        this.displayNotification('error', error.response.data.message);\n                    });\n                };\n\n            if (managedObjectsSettings && managedObjectsSettings[gridManagedObject]) {\n                this.queryThreshold = managedObjectsSettings[gridManagedObject].minimumUIFilterLength;\n            }\n\n            if (has(this.relationshipArrayProperty, 'items.resourceCollection') && this.relationshipArrayProperty.items.resourceCollection.length === 1) {\n                const resourceCollection = this.relationshipArrayProperty.items.resourceCollection[0];\n                this.setDisableSortAndSearch(resourceCollection);\n\n                this.getSchema(this.relationshipArrayProperty.items.resourceCollection[0].path).then((response) => {\n                    this.showFilter = true;\n                    doLoad(response.data);\n                });\n            } else {\n                doLoad();\n            }\n        },\n        setDisableSortAndSearch (resourceCollection) {\n            const managedObjectsSettings = this.$root.applicationStore.state.managedObjectsSettings,\n                resourceType = resourceCollection.path.split('/')[0];\n            let resourceName = resourceCollection.path.split('/')[1];\n            // special case for internal/role\n            if (resourceName === 'role' && resourceType === 'internal') {\n                resourceName = 'internalrole';\n            }\n            this.disableSortAndSearch = !this.isOpenidmAdmin && has(managedObjectsSettings, resourceName) ? managedObjectsSettings[resourceName].disableRelationshipSortAndSearch : false;\n        },\n        setGridData (relationships, schema) {\n            const addRows = () => {\n                relationships.forEach((relationship) => {\n                    // eslint-disable-next-line no-underscore-dangle\n                    const resourceCollectionSchema = find(schema.items.resourceCollection, { path: relationship._refResourceCollection });\n                    // special display logic for internal user\n                    if (resourceCollectionSchema && has(resourceCollectionSchema, 'path') && resourceCollectionSchema.path === 'internal/user') {\n                        // _ref looks \"internal/user/openidm-admin\"\n                        // here we are grabbing the last part of the path to display \"userName\" which is also the internal user's \"_id\"\n                        // eslint-disable-next-line no-underscore-dangle\n                        relationship._relationshipDetails = [last(relationship._ref.split('/'))];\n                    } else if (resourceCollectionSchema) {\n                        // eslint-disable-next-line no-underscore-dangle\n                        relationship._relationshipDetails = toArray(pick(relationship, resourceCollectionSchema.query.fields));\n                    } else {\n                        // if no schema information for resourceCollection just show the object's _id\n                        // eslint-disable-next-line no-underscore-dangle\n                        relationship._relationshipDetails = [relationship._id];\n                    }\n\n                    this.gridData.push(relationship);\n                });\n            };\n\n            if (this.disableSortAndSearch) {\n                const promises = [];\n                // When we disable sort and search the list of relationships does not include the related object's data.\n                // In this case to retrieve the data needed to fill in grid columns we need to loop over each relationship\n                // record and do a get on the _ref ('managed/user/USER_GUUID').\n                relationships.forEach((relationship, index) => {\n                    // eslint-disable-next-line no-underscore-dangle\n                    const resourceCollectionSchema = find(schema.items.resourceCollection, { path: relationship._refResourceCollection });\n                    promises.push(\n                        this.getRelationshipFieldsData(relationship, resourceCollectionSchema.query.fields).then((fieldsData) => {\n                            // once we get fields data merge it with the existing relationship data\n                            relationships[index] = { ...relationship, ...fieldsData };\n                        })\n                    );\n                });\n\n                Promise.all(promises).then(() => {\n                    addRows();\n                });\n            } else {\n                addRows();\n            }\n        },\n        getRelationshipFieldsData (relationship, fields) {\n            return this.getRequestService().get(`${relationship._ref}?_fields=${fields}`).then((response) => pick(response.data, fields));\n        },\n        buildGridUrl (page, resourceCollectionSchema) {\n            const currentResourceCollection = find(this.relationshipArrayProperty.items.resourceCollection, { path: resourceCollectionSchema ? resourceCollectionSchema.resourceCollection : null }),\n                resourcePath = this.additionalQueryFilter\n                    ? this.parentResource\n                    : `${this.parentResource}/${this.parentId}/${this.relationshipArrayProperty.propName}`,\n                filter = this.filter\n                    ? this.generateSearch(this.filter, currentResourceCollection.query.fields, resourceCollectionSchema.properties)\n                    : '';\n            let resourceUrl = `${resourcePath}?_pageSize=${this.gridPageSize}&_totalPagedResultsPolicy=ESTIMATE`;\n\n            if (filter) {\n                resourceUrl = `${resourceUrl}&_queryFilter=${filter}`;\n            } else {\n                resourceUrl = `${resourceUrl}&_queryFilter=true`;\n            }\n\n            // Add required fields, query fields, and prop-passed fields to grid query\n            if (!this.disableSortAndSearch && currentResourceCollection) {\n                const requiredProps = this.requiredProps.join(','),\n                    resourceCollectionFields = currentResourceCollection.query.fields.join(',');\n\n                resourceUrl = `${resourceUrl}&_fields=${requiredProps},${resourceCollectionFields}`;\n            }\n\n            if (page > 1) {\n                const offsetCalc = (page) * this.gridPageSize;\n                resourceUrl = `${resourceUrl}&_pagedResultsOffset=${offsetCalc}`;\n            }\n\n            if (this.sortBy) {\n                let sortUrl = null;\n\n                if (!isNull(this.sortBy)) {\n                    if (this.sortDesc) {\n                        sortUrl = `${this.sortBy}`;\n                    } else {\n                        sortUrl = `-${this.sortBy}`;\n                    }\n                }\n\n                resourceUrl = `${resourceUrl}&_sortKeys=${sortUrl}`;\n            }\n\n            return resourceUrl;\n        },\n        paginationChange (page) {\n            /* istanbul ignore next */\n            this.currentPage = page;\n            this.loadGrid(page);\n        },\n        resourceClicked (item) {\n            this.$router.push({\n                name: 'EditResource',\n                params: {\n                    resourceType: item._refResourceCollection.split('/')[0],\n                    resourceName: item._refResourceCollection.split('/')[1],\n                    resourceId: item._refResourceId\n                }\n            });\n        },\n        openCreateModal () {\n            this.$bvModal.show(this.createModalId);\n            this.newRelationships = [];\n        },\n        addNewRelationship (property, value) {\n            if (value) {\n                this.newRelationships.push(value);\n            }\n        },\n        onRowSelected (items) {\n            this.selected = items;\n\n            this.allRowsSelected = items.length === this.gridData.length;\n        },\n        toggleSelectAll (toggle) {\n            if (toggle) {\n                this.$refs.relationshipArrayGrid.selectAllRows();\n            } else {\n                this.$refs.relationshipArrayGrid.clearSelected();\n            }\n        },\n        saveNewRelationships () {\n            this.updateRelationship('add', this.newRelationships);\n        },\n        removeRelationships () {\n            let relationshipsToRemove = [];\n            const requiredProps = ['_ref', '_refResourceCollection', '_refResourceId', '_refProperties'];\n\n            this.selected.forEach((relationship) => {\n                if (relationship) {\n                    relationshipsToRemove.push(pick(relationship, requiredProps));\n                }\n            });\n\n            this.updateRelationship('remove', relationshipsToRemove);\n        },\n        updateRelationship (operation, items) {\n            const patchArray = map(items, (item) => {\n                    if (operation === 'remove') {\n                        return {\n                            operation: 'remove',\n                            field: '/' + this.relationshipArrayProperty.propName,\n                            value: item\n                        };\n                    } else {\n                        return {\n                            operation: 'add',\n                            field: '/' + this.relationshipArrayProperty.propName + '/-',\n                            value: item\n                        };\n                    }\n                }),\n                translation = operation === 'remove' ? 'pages.access.successRemoved' : 'pages.access.successAdded',\n                idmInstance = this.getRequestService(),\n                loadAndCloseModal = () => {\n                    let modal = operation === 'remove' ? this.removeModalId : this.createModalId;\n                    this.loadGrid(1);\n                    this.$bvModal.hide(modal);\n                };\n\n            /* istanbul ignore next */\n            idmInstance.patch(`${this.parentResource}/${this.parentId}`, patchArray).then(() => {\n                loadAndCloseModal();\n                this.displayNotification('success', this.$t(translation, { resource: this.relationshipArrayProperty.title }));\n            })\n                .catch((error) => {\n                    loadAndCloseModal();\n                    this.displayNotification('error', error.response.data.message);\n                });\n        },\n        /**\n         * Repulls data based on new sort, and returns table to first page\n         *\n         * @param {object} sort - Required object containing sort metadata\n         */\n        sortingChanged (sort) {\n            this.currentPage = 1;\n            this.sortBy = sort.sortBy;\n            this.sortDesc = sort.sortDesc;\n\n            this.loadGrid(1);\n        },\n        /**\n         * Reloads data after search box filter text is cleared\n         */\n        clear () {\n            this.filter = '';\n            this.sortBy = null;\n            this.sortDesc = false;\n            this.currentPage = 1;\n\n            this.loadGrid(1);\n        },\n        /**\n         * Repulls data based on input search box text\n         */\n        search () {\n            if (this.filter === '') {\n                this.clear();\n                return;\n            }\n            this.sortBy = null;\n            this.sortDesc = false;\n            this.currentPage = 1;\n\n            // only send search request if no queryThreshold is defined or the filter is empty or the filter has at least the same number of chars as queryThreshold\n            if (!this.queryThreshold || !this.filter.length || this.filter.length >= this.queryThreshold) {\n                this.loadGrid(1);\n            }\n        },\n        onSelectRowCheckboxClicked (rowSelected, index) {\n            if (rowSelected) {\n                this.$refs.relationshipArrayGrid.selectRow(index);\n            } else {\n                this.$refs.relationshipArrayGrid.unselectRow(index);\n            }\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    /deep/ {\n        .fr-resource-paginator {\n            a[role=\"menuitemradio\"] {\n                display: none !important;\n            }\n        }\n\n        .checkbox-column {\n            width: 1px;\n            padding-right: 0px;\n            vertical-align: middle;\n        }\n\n        .cursor-pointer {\n            cursor: pointer;\n        }\n\n        .hide-header > thead {\n            display:none !important;\n        }\n    }\n\n    .input-group {\n        & > .input-group-prepend {\n            .input-group-text.inset,\n            .btn.inset {\n                border-right-color: transparent;\n            }\n        }\n\n        & > .input-group-append {\n            .input-group-text.inset,\n            .btn.inset {\n                border-left-color: transparent;\n            }\n        }\n\n        & > .form-control {\n            &.inset-left:not(:first-child) {\n                border-left-color: transparent;\n            }\n\n            &.inset-right:not(:first-child) {\n                border-right-color: transparent;\n            }\n        }\n\n        .btn.clear {\n            opacity: 1;\n            color: $gray-500;\n            background-color: $input-bg;\n\n            &.disabled > i {\n                color: transparent;\n                border-width: 0;\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelationshipArray.vue?vue&type=template&id=042d10c6&scoped=true&\"\nimport script from \"./RelationshipArray.vue?vue&type=script&lang=js&\"\nexport * from \"./RelationshipArray.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RelationshipArray.vue?vue&type=style&index=0&id=042d10c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"042d10c6\",\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright (c) 2020 ForgeRock. All rights reserved.\n\nThis software may be modified and distributed under the terms\nof the MIT license. See the LICENSE file for details.\n-->\n\n<template>\n    <b-container>\n        <b-row>\n            <b-col>\n                <div class=\"d-sm-flex my-4\">\n                    <div class=\"media\">\n                        <div class=\"rounded-circle fr-resource-circle text-light bg-primary mr-4\">\n                            <i :class=\"setIcon\"/>\n                        </div>\n                        <div class=\"media-body\">\n                            <h1>{{displayName}}</h1>\n                            <h6 class=\"text-muted\">{{secondaryTitle}}</h6>\n                        </div>\n                    </div>\n                    <div v-if=\"canChangePassword || canDelete\" class=\"ml-auto my-4 my-sm-0 align-self-center align-self-end\">\n                        <b-dropdown id=\"resourceActions\" text=\"Actions\" right variant=\"primary\" class=\"m-md-2\">\n                            <b-dropdown-item v-if=\"canChangePassword\" v-b-modal.resetModal>{{$t('pages.access.resetPassword')}}</b-dropdown-item>\n                            <b-dropdown-item v-if=\"canDelete\" v-b-modal.deleteModal>{{$t(\"common.form.delete\")}} {{this.name}}</b-dropdown-item>\n                        </b-dropdown>\n                    </div>\n                </div>\n            </b-col>\n        </b-row>\n\n        <b-tabs content-class=\"mt-4\" nav-class=\"nav-bar-border\" flex-column flex-sm-row>\n            <b-tab :title=\"this.$t('pages.access.details')\" active>\n                <fr-object-type-editor\n                    v-if=\"displayProperties.length > 0\"\n                    :form-fields=\"formFields\"\n                    :display-properties=\"displayProperties\"\n                    :disable-save-button=\"disableSaveButton\"\n                    :resource-path=\"`${resource}/${name}/${id}`\" />\n                <span v-else>\n                    {{$t('pages.access.noAvailableProperties')}}\n                </span>\n            </b-tab>\n            <!-- Add a tab for each viewable/editable object type property -->\n            <b-tab\n                v-for=\"(objectTypeProperty) in objectTypeProperties\"\n                :title=\"objectTypeProperty.title\"\n                :key=\"`${objectTypeProperty.propName}_tab`\">\n                <fr-object-type-editor\n                    :form-fields=\"formFields[objectTypeProperty.propName] || {}\"\n                    :sub-property-name=\"objectTypeProperty.propName\"\n                    :display-properties=\"getObjectTypeProperyDisplayProperties(objectTypeProperty)\"\n                    :disable-save-button=\"objectTypeProperty.readOnly\"\n                    :resource-path=\"`${resource}/${name}/${id}`\" />\n            </b-tab>\n            <!-- Add a tab for each viewable/editable relationship array property -->\n            <template v-for=\"(relationshipProperty) in relationshipProperties\">\n                <b-tab\n                    v-if=\"relationshipProperty.type === 'array'\"\n                    :title=\"relationshipProperty.title\"\n                    :key=\"`${relationshipProperty.propName}_tab`\">\n                    <fr-relationship-array :parentResource='resource + \"/\" + name' :parentId='id' :relationshipArrayProperty='relationshipProperty'/>\n                </b-tab>\n            </template>\n        </b-tabs>\n\n        <b-modal v-if=\"canDelete\" id=\"deleteModal\"\n                 ref=\"deleteModal\"\n                 :title=\"this.$t('pages.access.deleteModalTitle')\">\n\n            <div>\n                {{$t('pages.access.deleteConfirm')}} {{this.name}}?\n            </div>\n\n            <div slot=\"modal-footer\" class=\"w-100\">\n                <div class=\"float-right\">\n                    <b-btn type=\"button\" variant=\"danger\" @click=\"deleteResource\">{{$t('common.form.delete')}}</b-btn>\n                </div>\n            </div>\n        </b-modal>\n\n        <b-modal v-if=\"canChangePassword\" id=\"resetModal\"\n                 ref=\"resetModal\"\n                 :title=\"this.$t('pages.access.resetPassword')\">\n\n            <fr-password-policy-input :policyApi=\"`${resource}/${name}/policyTest`\" v-model=\"formFields['password']\">\n                <b-form-group class=\"mb-3\" slot=\"custom-input\">\n                    <label for=\"updatePassword\">{{$t('pages.access.password')}}</label>\n                    <div class=\"form-label-password form-label-group mb-0\">\n                        <b-form-input id=\"updatePassword\" autocomplete=\"password\" :type=\"passwordInputType\" v-model=\"formFields['password']\" name=\"password\"></b-form-input>\n                        <div class=\"input-group-append\">\n                            <button @click=\"revealNew\" class=\"btn btn-secondary\" type=\"button\">\n                                <i :class=\"[{'fa-eye-slash': !showPassword}, {'fa-eye': showPassword}, 'fa']\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </b-form-group>\n            </fr-password-policy-input>\n\n            <div slot=\"modal-footer\" class=\"w-100\">\n                <div class=\"float-right\">\n                    <b-btn type=\"button\" variant=\"primary\" @click=\"savePassword\">{{$t('common.form.save')}}</b-btn>\n                </div>\n            </div>\n        </b-modal>\n    </b-container>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport axios from 'axios';\nimport ObjectTypeEditor from '@/components/access/ObjectTypeEditor';\nimport PolicyPasswordInput from '@/components/utils/PolicyPasswordInput';\nimport RelationshipArray from '@/components/access/RelationshipArray';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\n\n/**\n * @description Full page that provides view/edit of a specific resource for delegated admin. Auto generates fields based on backend return.\n * Currently generates string, number, boolean and password (not based on type, but on field name being passsword).\n *\n * @fires GET schema/type/name/ (e.g. schema/managed/user) - Schema for a resource\n * @fires GET privilege/type/name/id (e.g. privilege/managed/user/_id) - Privileges for a specific record of a resource\n * @fires GET type/name/id (e.g. managed/user/_id) - Resource details, in this context privileges will restrict the data return\n * @fires DELETE type/name/id (e.g. managed/user/_id) - Deletes resource record\n * @fires PATCH type/name/id (e.g. managed/user/_id) - Submits a patch object of changes for the provided resource record\n */\nexport default {\n    name: 'Edit-Resource',\n    components: {\n        'fr-object-type-editor': ObjectTypeEditor,\n        'fr-password-policy-input': PolicyPasswordInput,\n        'fr-relationship-array': RelationshipArray\n    },\n    mixins: [\n        ResourceMixin\n    ],\n    data () {\n        return {\n            name: this.$route.params.resourceName,\n            resource: this.$route.params.resourceType,\n            id: this.$route.params.resourceId,\n            displayProperties: [],\n            canDelete: false,\n            canChangePassword: false,\n            passwordInputType: 'password',\n            showPassword: true,\n            disableSaveButton: false,\n            icon: '',\n            displayNameField: '',\n            displaySecondaryTitleField: '',\n            formFields: {},\n            oldFormFields: {},\n            objectTypeProperties: {},\n            relationshipProperties: {}\n        };\n    },\n    mounted () {\n        this.loadData();\n    },\n    methods: {\n        loadData () {\n            const idmInstance = this.getRequestService();\n\n            /* istanbul ignore next */\n            axios.all([\n                this.getSchema(`${this.resource}/${this.name}`),\n                idmInstance.get(`privilege/${this.resource}/${this.name}/${this.id}`)]).then(axios.spread((schema, privilege) => {\n                let resourceUrl = '';\n\n                this.objectTypeProperties = this.getObjectTypeProperties(schema.data, privilege.data);\n                this.relationshipProperties = this.getRelationshipProperties(schema.data, privilege.data);\n\n                resourceUrl = this.buildResourceUrl();\n\n                idmInstance.get(resourceUrl).then((resourceDetails) => {\n                    this.generateDisplay(schema.data, privilege.data, resourceDetails.data);\n                }).catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n            }))\n                .catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n        },\n        buildResourceUrl () {\n            let url = `${this.resource}/${this.name}/${this.id}?_fields=*`;\n            const singletons = _.filter(this.relationshipProperties, { type: 'relationship' });\n\n            if (singletons.length) {\n                url += `,${_.map(singletons, (prop) => { return prop.propName + '/*'; }).join(',')}`;\n            }\n\n            return url;\n        },\n        getObjectTypeProperties (schema, privilege) {\n            return _.pickBy(schema.properties, (property, key) => {\n                const hasPermission = privilege.VIEW.properties.includes(key) || privilege.UPDATE.properties.includes(key),\n                    isObjectTypeProperty = property.type === 'object' && property.viewable;\n\n                property.propName = key;\n                property.readOnly = !privilege.UPDATE.properties.includes(key);\n\n                return isObjectTypeProperty && hasPermission;\n            });\n        },\n        getObjectTypeProperyDisplayProperties (obj) {\n            return _.map(obj.order, (propName) => {\n                const property = obj.properties[propName];\n                property.key = propName;\n                property.value = this.formFields[obj.propName] ? this.formFields[obj.propName][propName] || null : null;\n                if (obj.readOnly && !this.isOpenidmAdmin) {\n                    property.disabled = true;\n                } else {\n                    property.disabled = false;\n                }\n\n                return obj.properties[propName];\n            });\n        },\n        getRelationshipProperties (schema, privilege) {\n            return _.pickBy(schema.properties, (property, key) => {\n                const hasPermission = privilege.VIEW.properties.indexOf(key) > -1 || privilege.UPDATE.properties.indexOf(key) > -1,\n                    isRelationship = property.type === 'relationship' || (property.type === 'array' && property.items.type === 'relationship');\n\n                property.propName = key;\n\n                if (isRelationship) {\n                    property.isReadOnly = privilege.UPDATE.properties.indexOf(key) === -1;\n                }\n\n                return isRelationship && hasPermission;\n            });\n        },\n        generateDisplay (schema, privilege, resourceDetails) {\n            this.oldFormFields = _.pick(resourceDetails, privilege.VIEW.properties);\n\n            if (privilege.DELETE.allowed) {\n                this.canDelete = true;\n            }\n\n            if (schema.icon) {\n                this.icon = schema.icon;\n            } else {\n                this.icon = '';\n            }\n\n            // Add reactive form for changes\n            _.each(this.oldFormFields, (value, key) => {\n                this.$set(this.formFields, key, value);\n            });\n\n            if (privilege.VIEW.allowed) {\n                // if there are no update properties disable the save button\n                if (privilege.UPDATE.properties.length === 0) {\n                    this.disableSaveButton = true;\n                }\n                _.each(this.mergePrivilegeProperties(privilege, schema), (createPriv) => {\n                    let tempProp = schema.properties[createPriv.attribute];\n\n                    if (_.indexOf(schema.required, createPriv.attribute) !== -1) {\n                        tempProp.required = true;\n                    }\n\n                    if (createPriv.attribute === 'password' && !createPriv.readOnly) {\n                        this.canChangePassword = true;\n                    }\n\n                    tempProp.key = createPriv.attribute;\n\n                    // Try and do some primary detection for a display name\n                    if (createPriv.attrubute !== '_id' && this.displayNameField.length === 0) {\n                        this.displayNameField = createPriv.attribute;\n                    }\n\n                    // Try and do some primary detection for a secondary title\n                    if ((_.toLower(createPriv.attribute) === 'title' ||\n                                _.toLower(createPriv.attribute) === 'email' ||\n                                _.toLower(createPriv.attribute) === 'type' ||\n                                _.toLower(createPriv.attribute) === 'mail') && this.displaySecondaryTitleField.length === 0) {\n                        this.displaySecondaryTitleField = createPriv.attribute;\n                    }\n\n                    // Add fields that may not be set yet from reading the resource\n                    if (_.isUndefined(this.formFields[createPriv.attribute])) {\n                        if (tempProp.type === 'boolean') {\n                            this.$set(this.formFields, createPriv.attribute, false);\n                            this.oldFormFields[createPriv.attribute] = false;\n                        } else {\n                            this.$set(this.formFields, createPriv.attribute, '');\n                            this.oldFormFields[createPriv.attribute] = '';\n                        }\n                    }\n\n                    if (createPriv.readOnly) {\n                        tempProp.isReadOnly = true;\n                    }\n\n                    this.displayProperties.push(tempProp);\n                });\n            }\n        },\n        deleteResource () {\n            const idmInstance = this.getRequestService();\n\n            this.$refs.deleteModal.hide();\n\n            /* istanbul ignore next */\n            idmInstance.delete(`${this.resource}/${this.name}/${this.id}`).then(() => {\n                this.displayNotification('success', this.$t('pages.access.deleteResource'));\n\n                this.$router.push({\n                    name: 'ListResource',\n                    params: {\n                        resourceType: this.resource,\n                        resourceName: this.name\n                    }\n                });\n            })\n                .catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n        },\n        // Hide/show for special password field\n        revealNew () {\n            if (this.passwordInputType === 'password') {\n                this.passwordInputType = 'text';\n                this.showPassword = false;\n            } else {\n                this.passwordInputType = 'password';\n                this.showPassword = true;\n            }\n        },\n        savePassword () {\n            const idmInstance = this.getRequestService();\n\n            let saveData = [{ operation: 'add', field: '/password', value: this.formFields['password'] }];\n\n            this.$refs.resetModal.hide();\n            this.formFields['password'] = '';\n\n            idmInstance.patch(`${this.resource}/${this.name}/${this.id}`, saveData).then(() => {\n                this.displayNotification('success', this.$t('pages.access.successSavePassword'));\n            },\n            () => {\n                this.displayNotification('error', this.$t('pages.access.failedSavePassword'));\n            });\n        },\n        mergePrivilegeProperties (privilege, schema) {\n            let properties = [];\n\n            _.each(schema.order, (schemaPropName) => {\n                let canView = _.indexOf(privilege.VIEW.properties, schemaPropName) > -1,\n                    canUpdate = _.indexOf(privilege.UPDATE.properties, schemaPropName) > -1,\n                    property = { attribute: schemaPropName };\n\n                if (canUpdate) {\n                    properties.push(property);\n                } else if (canView) {\n                    property.readOnly = true;\n                    properties.push(property);\n                }\n            });\n\n            return properties;\n        }\n    },\n    computed: {\n        secondaryTitle () {\n            let tempDisplayName = `${this.resource} - ${this.name}`;\n\n            if (this.displaySecondaryTitleField.length > 0) {\n                tempDisplayName = this.formFields[this.displaySecondaryTitleField];\n            }\n\n            return tempDisplayName;\n        },\n        displayName () {\n            let tempDisplayName = this.id;\n\n            if (this.displayNameField.length > 0) {\n                tempDisplayName = this.formFields[this.displayNameField];\n            }\n\n            return tempDisplayName;\n        },\n        setIcon () {\n            let tempIcon = 'fa-cube';\n\n            if (this.icon.length > 0) {\n                tempIcon = this.icon;\n            }\n\n            return `fa fa-3x ${tempIcon}`;\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    /deep/ {\n        .nav-bar-border {\n            border-bottom: 1px solid $gray-300;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditResource.vue?vue&type=template&id=9eb32a66&scoped=true&\"\nimport script from \"./EditResource.vue?vue&type=script&lang=js&\"\nexport * from \"./EditResource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditResource.vue?vue&type=style&index=0&id=9eb32a66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9eb32a66\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=style&index=0&id=9eb32a66&lang=scss&scoped=true&\""],"sourceRoot":""}