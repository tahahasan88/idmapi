/*!
 * Copyright 2019-2020 ForgeRock AS. All Rights Reserved 
 *  Use of this code requires a commercial software license with ForgeRock AS. or with one of its affiliates. All use shall be exclusively subject to such license between the licensee and ForgeRock AS.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-183f2f99"],{"0f9d":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-row",{staticClass:"my-5"},[n("b-col",{staticClass:"profileCol mb-4",attrs:{lg:"4"}},[n("b-card",{staticClass:"text-center mb-4"},[n("b-img",{staticClass:"m-1 mb-3",attrs:{src:r("dfb4"),rounded:"circle",width:"112",height:"112",alt:"img"}}),n("h4",{staticClass:"text-truncate"},[e._v(e._s(e.fullName))]),n("div",{staticClass:"text-muted text-truncate"},[e._v(e._s(e.email))]),!1===e.$root.userStore.state.internalUser?n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.userDetailsModal",modifiers:{userDetailsModal:!0}}],ref:"editProfileButton",staticClass:"mt-4",attrs:{variant:"primary",block:""}},[e._v(" "+e._s(e.$t("pages.profile.editPersonalInfo"))+" ")]):e._e()],1),n("fr-edit-personal-info",{attrs:{autoOpen:e.openProfile,schema:e.schema,profile:e.profile},on:{updateProfile:e.updateProfile}})],1),n("b-col",{attrs:{lg:"8"}},[n("b-tabs",{attrs:{"content-class":"mt-4"}},[n("b-tab",{attrs:{title:e.$t("pages.profile.settings"),active:""}},[n("fr-account-security",{on:{updateProfile:e.updateProfile,updateKBA:e.updateKBA}}),!1===e.$root.userStore.state.internalUser?n("fr-social-identities",{attrs:{clientToken:e.clientToken,linkedProvider:e.linkedProvider}}):e._e(),!1===e.$root.userStore.state.internalUser?n("fr-preferences",{on:{updateProfile:e.updateProfile}}):e._e(),!1===e.$root.userStore.state.internalUser?n("fr-consent",{attrs:{consentedMappings:e.profile.consentedMappings},on:{updateProfile:e.updateProfile}}):e._e(),n("fr-account-controls")],1)],1)],1)],1)],1)},s=[],o=r("2ef0"),i=r.n(o),a={name:"Profile",props:{clientToken:String,linkedProvider:String,openProfile:{required:!1,default:!1}},components:{"fr-account-controls":function(){return r.e("chunk-7783eab6").then(r.bind(null,"fbaf"))},"fr-account-security":function(){return Promise.all([r.e("chunk-2d0ddf92"),r.e("chunk-533b2867")]).then(r.bind(null,"8960"))},"fr-edit-personal-info":function(){return r.e("chunk-587ca685").then(r.bind(null,"9e67"))},"fr-preferences":function(){return r.e("chunk-7fc7612e").then(r.bind(null,"1b01"))},"fr-consent":function(){return r.e("chunk-0b20854a").then(r.bind(null,"545f"))},"fr-social-identities":function(){return r.e("chunk-2bbe7213").then(r.bind(null,"1f6b"))}},computed:{fullName:function(){var e="";return e=this.$root.userStore.state.givenName.length>0||this.$root.userStore.state.sn.length>0?i.a.startCase(this.$root.userStore.state.givenName+" "+this.$root.userStore.state.sn):this.$root.userStore.state.userId,e},email:function(){return this.$root.userStore.state.email},profile:function(){return this.$root.userStore.state.profile},schema:function(){return this.$root.userStore.state.schema}},methods:{updateProfile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.makeUpdateRequest(this.$root.userStore.state.managedResource,e,t)},updateKBA:function(e,t){this.makeUpdateRequest("selfservice/user",e,t)},makeUpdateRequest:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.successMsg||this.$t("common.user.profile.updateSuccess"),o=this.$root.userStore.state.userId,i=this.getRequestService({headers:n.headers});i.patch("".concat(e,"/").concat(o),t).then((function(e){r.$root.userStore.setProfileAction(e.data),r.displayNotification("success",s),n.onSuccess&&n.onSuccess()})).catch((function(e){var t=n.errorMsg||e.response.data.message;r.displayNotification("error",t),n.onError&&n.onError(e)}))}}},c=a,u=(r("2c22"),r("2877")),l=Object(u["a"])(c,n,s,!1,null,"73a09163",null);t["default"]=l.exports},"2c22":function(e,t,r){"use strict";r("fe69")},fe69:function(e,t,r){}}]);
//# sourceMappingURL=chunk-183f2f99.324ca520.js.map