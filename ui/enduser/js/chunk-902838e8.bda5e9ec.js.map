{"version":3,"sources":["webpack:///./src/components/access/index.vue?1bcd","webpack:///./src/components/access/index.vue?df74","webpack:///./src/components/access/CreateResource.vue?42ed","webpack:///src/components/access/CreateResource.vue","webpack:///./src/components/access/CreateResource.vue?ee00","webpack:///./src/components/access/CreateResource.vue","webpack:///src/components/access/index.vue","webpack:///./src/components/access/index.vue?23d5","webpack:///./src/components/access/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","createProperties","length","directives","name","rawName","modifiers","_v","_s","$t","_e","searchPlaceholder","nativeOn","$event","type","indexOf","_k","keyCode","key","search","model","value","callback","$$v","filter","expression","on","clear","class","isLoading","gridData","columns","tableHover","sortBy","sortDesc","sortDirection","resourceClicked","sortingChanged","scopedSlots","_u","fn","plural","proxy","disabled","currentPage","preventDefault","paginationChange","lastPage","resource","staticRenderFns","ref","focusField","saveForm","slot","resourceName","hideModal","_l","field","index","undefined","encryption","title","required","validationContext","getValidationState","formFields","$set","trim","errors","items","setRelationshipArrayValue","setSingletonRelationshipValue","resourceType","passwordInputType","revealNew","showPassword","components","mixins","ResourceMixin","props","default","data","tempPasswordCheck","_","tempFormFields","passwordCheck","methods","idmInstance","then","catch","tempDisplayErrors","finally","resetDialog","cleanData","getRelationshipDisplayFields","property","path","_ref","component","schemaProperties","isRowSelected","displayFields","userCanUpdate","queryThreshold","mounted","watch","col","computed","numChars","loadData","managedObjectsSettings","axios","label","sortable","schema","loadGrid","fields","sortField","page","buildGridUrl","resourceUrl","calculateSort","sortUrl","sort","item","params","resourceId","txt"],"mappings":"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","file":"js/chunk-902838e8.bda5e9ec.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=604a2e86&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('div',{staticClass:\"card mt-4\"},[_c('div',{staticClass:\"card-header py-2\"},[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"3\"}},[(_vm.createProperties.length > 0)?_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.createResourceModal\",modifiers:{\"createResourceModal\":true}}],attrs:{\"type\":\"button\",\"variant\":\"primary\"}},[_c('i',{staticClass:\"fa fa-plus mr-3\"}),_vm._v(_vm._s(_vm.$t(\"common.form.new\"))+\" \"+_vm._s(this.name))]):_vm._e()],1),_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"9\"}},[_c('div',{staticClass:\"d-flex\"},[_c('b-input-group',[_c('b-input-group-prepend',[_c('div',{staticClass:\"input-group-text inset\"},[_c('i',{staticClass:\"fa fa-search\"})])]),_c('b-form-input',{staticClass:\"inset-left inset-right\",attrs:{\"placeholder\":_vm.searchPlaceholder},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-btn',{staticClass:\"inset clear\",attrs:{\"variant\":\"outline-default\",\"disabled\":!_vm.filter},on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"fa fa-times-circle\"})])],1)],1)],1)])],1)],1),_c('div',{staticClass:\"card-body\"},[_c('b-table',{staticClass:\"mb-0\",class:[{'hide-header': _vm.isLoading || !_vm.gridData.length }],attrs:{\"show-empty\":\"\",\"table-responsive\":\"\",\"stacked\":\"lg\",\"items\":_vm.gridData,\"fields\":_vm.columns,\"per-page\":0,\"hover\":_vm.tableHover,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"no-local-sorting\":true,\"sort-direction\":_vm.sortDirection,\"busy\":_vm.isLoading},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"row-clicked\":_vm.resourceClicked,\"sort-changed\":_vm.sortingChanged},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center p-5\"},[_c('b-spinner',{staticClass:\"align-middle spinner-large text-primary my-4\"}),_c('div',[_vm._v(_vm._s(_vm.$t(\"common.form.loading\"))+\" \"+_vm._s(_vm.plural(_vm.name))+\"...\")])],1)]},proxy:true}])})],1),(!_vm.isLoading)?_c('div',{staticClass:\"card-footer py-2\"},[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination justify-content-center mb-0\"},[_c('li',{class:[{ disabled: _vm.currentPage === 1 }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.currentPage === 1 ? '' : _vm.paginationChange(1)}}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-double-left\"})])]),_c('li',{class:[{ disabled: _vm.currentPage === 1 }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.currentPage === 1 ? '' : _vm.paginationChange(_vm.currentPage - 1)}}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-left\"})])]),_c('li',{class:[{ disabled: _vm.lastPage }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.lastPage ?  '' : _vm.paginationChange(_vm.currentPage + 1)}}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-right\"})])])])])]):_vm._e()]),(_vm.createProperties.length > 0)?_c('fr-create-resource',{attrs:{\"resourceName\":_vm.name,\"resourceType\":_vm.resource,\"createProperties\":_vm.createProperties},on:{\"refreshGrid\":_vm.clear}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"createModal\",attrs:{\"id\":\"createResourceModal\",\"cancel-variant\":\"outline-secondary\"},on:{\"shown\":_vm.focusField},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.saveForm($event)}}},[_c('div',{staticClass:\"d-flex w-100 h-100\",attrs:{\"slot\":\"modal-header\"},slot:\"modal-header\"},[_c('h5',{staticClass:\"modal-title align-self-center text-center\"},[_vm._v(_vm._s(_vm.$t('common.form.new'))+\" \"+_vm._s(_vm.resourceName))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.hideModal}},[_c('i',{staticClass:\"fa fa-times\"})])]),_c('b-row',[_c('b-col',[_c('ValidationObserver',{ref:\"observer\",attrs:{\"slim\":\"\"}},[(_vm.createProperties.length > 0)?_c('b-form',{staticClass:\"mb-3\",attrs:{\"name\":\"edit-personal-form\"}},[_vm._l((_vm.createProperties),function(field,index){return [((field.type === 'string' || field.type === 'number') && field.encryption === undefined)?_c('b-form-group',{key:'createResource' +index},[(field.title)?_c('label',{staticClass:\"float-left\",attrs:{\"for\":'create-resource-' +field.key}},[_vm._v(_vm._s(field.title))]):_c('label',{staticClass:\"float-left\",attrs:{\"for\":'create-resource-' +field.key}},[_vm._v(_vm._s(field.key))]),_c('ValidationProvider',{attrs:{\"rules\":(\"\" + (field.required ? 'required' : '')),\"name\":field.title,\"vid\":field.key},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-input',{attrs:{\"id\":'create-resource-' +field.key,\"type\":field.type === 'string' ? 'text' : field.type,\"state\":_vm.getValidationState(validationContext)},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formFields[field.key]\"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(validationContext.errors[0]))])]}}],null,true)})],1):_vm._e(),(field.type === 'array' && field.items.type === 'relationship')?_c('b-form-group',{key:'createResource' +index},[_c('fr-relationship-edit',{attrs:{\"relationshipProperty\":field,\"index\":index,\"setValue\":_vm.setRelationshipArrayValue,\"newResource\":true}})],1):_vm._e(),(field.type === 'boolean')?_c('b-form-group',{key:'createResource' +index},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"mr-auto\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),_c('b-form-checkbox',{staticClass:\"fr-toggle-primary\",attrs:{\"switch\":\"\",\"size\":\"lg\"},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}},[_vm._v(\" \"+_vm._s(_vm.formFields[field.key] ? _vm.$t('common.form.yes') : _vm.$t('common.form.no'))+\" \")])],1)]):_vm._e(),(field.type === 'relationship')?_c('b-form-group',{key:'createResource' +index},[_c('fr-relationship-edit',{attrs:{\"relationshipProperty\":field,\"index\":index,\"setValue\":_vm.setSingletonRelationshipValue,\"newResource\":true}})],1):_vm._e()]}),(_vm.passwordCheck)?_c('fr-password-policy-input',{attrs:{\"policyApi\":(_vm.resourceType + \"/\" + _vm.resourceName + \"/policyTest\")},model:{value:(_vm.formFields['password']),callback:function ($$v) {_vm.$set(_vm.formFields, 'password', $$v)},expression:\"formFields['password']\"}},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"slot\":\"custom-input\"},slot:\"custom-input\"},[_c('label',{attrs:{\"for\":\"createPassword\"}},[_vm._v(_vm._s(_vm.$t('pages.access.password')))]),_c('div',{staticClass:\"form-label-password form-label-group mb-0\"},[_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate.initial\",value:('required|policy'),expression:\"'required|policy'\",modifiers:{\"initial\":true}}],attrs:{\"id\":\"createPassword\",\"autocomplete\":\"password\",\"type\":_vm.passwordInputType,\"name\":\"password\"},model:{value:(_vm.formFields['password']),callback:function ($$v) {_vm.$set(_vm.formFields, 'password', $$v)},expression:\"formFields['password']\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.revealNew}},[_c('i',{class:[{'fa-eye-slash': !_vm.showPassword}, {'fa-eye': _vm.showPassword}, 'fa']})])])],1)])],1):_vm._e()],2):[_c('h3',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('pages.access.noFields')))])]],2)],1)],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"variant\":\"outline-secondary mr-2\"},on:{\"click\":_vm.hideModal}},[_vm._v(_vm._s(_vm.$t('common.form.cancel')))]),_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\",\"disabled\":_vm.disabled || _vm.formFields.length === 0},on:{\"click\":_vm.saveForm}},[_vm._v(_vm._s(_vm.$t('common.form.save')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCopyright (c) 2020-2021 ForgeRock. All rights reserved.\n\nThis software may be modified and distributed under the terms\nof the MIT license. See the LICENSE file for details.\n-->\n\n<template>\n    <b-modal id=\"createResourceModal\" @shown=\"focusField\" ref=\"createModal\" cancel-variant=\"outline-secondary\" @keydown.enter.native.prevent=\"saveForm\">\n\n        <div slot=\"modal-header\" class=\"d-flex w-100 h-100\">\n            <h5 class=\"modal-title align-self-center text-center\">{{$t('common.form.new')}} {{resourceName}}</h5>\n            <button type=\"button\" aria-label=\"Close\" class=\"close\" @click=\"hideModal\"><i class=\"fa fa-times\"></i></button>\n        </div>\n        <b-row>\n            <b-col>\n                <!-- Creating resource currently only supports String, Number, Boolean, and singleton relationships -->\n                <ValidationObserver ref=\"observer\" slim>\n                    <b-form v-if=\"createProperties.length > 0\" class=\"mb-3\" name=\"edit-personal-form\">\n                        <template v-for=\"(field, index) in createProperties\">\n                            <b-form-group :key=\"'createResource' +index\" v-if=\"(field.type === 'string' || field.type === 'number') && field.encryption === undefined\">\n                                <label v-if=\"field.title\" class=\"float-left\" :for=\"'create-resource-' +field.key\">{{field.title}}</label>\n                                <label v-else class=\"float-left\" :for=\"'create-resource-' +field.key\">{{field.key}}</label>\n                                <ValidationProvider :rules=\"`${field.required ? 'required' : ''}`\" :name=\"field.title\" :vid=\"field.key\" v-slot=\"validationContext\">\n                                    <b-form-input\n                                        :id=\"'create-resource-' +field.key\"\n                                        :type=\"field.type === 'string' ? 'text' : field.type\"\n                                        :state=\"getValidationState(validationContext)\"\n                                        v-model.trim=\"formFields[field.key]\" />\n                                    <b-form-invalid-feedback>{{ validationContext.errors[0] }}</b-form-invalid-feedback>\n                                </ValidationProvider>\n                            </b-form-group>\n                            <!-- for relationhip array values -->\n                            <b-form-group\n                              :key=\"'createResource' +index\"\n                              v-if=\"field.type === 'array' && field.items.type === 'relationship'\">\n                              <fr-relationship-edit\n                                  :relationshipProperty='field'\n                                  :index=\"index\"\n                                  :setValue=\"setRelationshipArrayValue\"\n                                  :newResource=\"true\" />\n                            </b-form-group>\n                            <!-- for boolean values -->\n                            <b-form-group :key=\"'createResource' +index\" v-if=\"field.type === 'boolean'\">\n                                <div class=\"d-flex flex-column\">\n                                    <label class=\"mr-auto\" :for=\"field.title\">{{field.title}}</label>\n\n                                    <b-form-checkbox\n                                        switch\n                                        size=\"lg\"\n                                        class=\"fr-toggle-primary\"\n                                        v-model=\"formFields[field.key]\">\n                                        {{ formFields[field.key] ? $t('common.form.yes') : $t('common.form.no') }}\n                                    </b-form-checkbox>\n                                </div>\n                            </b-form-group>\n                            <!-- for singleton relationhip values -->\n                            <b-form-group\n                              :key=\"'createResource' +index\"\n                              v-if=\"field.type === 'relationship'\">\n                              <fr-relationship-edit\n                                  :relationshipProperty='field'\n                                  :index=\"index\"\n                                  :setValue=\"setSingletonRelationshipValue\"\n                                  :newResource=\"true\" />\n                            </b-form-group>\n                        </template>\n\n                        <!-- Special logic for password -->\n                        <fr-password-policy-input v-if=\"passwordCheck\" :policyApi=\"`${resourceType}/${resourceName}/policyTest`\" v-model=\"formFields['password']\">\n                            <b-form-group class=\"mb-3\" slot=\"custom-input\">\n                                <label for=\"createPassword\">{{$t('pages.access.password')}}</label>\n                                <div class=\"form-label-password form-label-group mb-0\">\n                                    <b-form-input id=\"createPassword\" autocomplete=\"password\" :type=\"passwordInputType\" v-model=\"formFields['password']\" name=\"password\" v-validate.initial=\"'required|policy'\"></b-form-input>\n                                    <div class=\"input-group-append\">\n                                        <button @click=\"revealNew\" class=\"btn btn-secondary\" type=\"button\">\n                                            <i :class=\"[{'fa-eye-slash': !showPassword}, {'fa-eye': showPassword}, 'fa']\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                            </b-form-group>\n\n                        </fr-password-policy-input>\n                    </b-form>\n                    <template v-else>\n                        <h3 class=\"text-center\">{{$t('pages.access.noFields')}}</h3>\n                    </template>\n                </ValidationObserver>\n            </b-col>\n        </b-row>\n\n        <div slot=\"modal-footer\" class=\"w-100\">\n            <div class=\"float-right\">\n                <b-btn variant=\"outline-secondary mr-2\" @click=\"hideModal\">{{$t('common.form.cancel')}}</b-btn>\n                <b-btn type=\"button\" variant=\"primary\" @click=\"saveForm\" :disabled=\"disabled || formFields.length === 0\">{{$t('common.form.save')}}</b-btn>\n            </div>\n        </div>\n    </b-modal>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport PolicyPasswordInput from '@/components/utils/PolicyPasswordInput';\nimport RelationshipEdit from '@/components/access/RelationshipEdit';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\n\n/**\n * @description Dialog used for managing the create portion of delegated admin. Auto generates fields based on backend return.\n * Currently generates string, number, boolean and password (not based on type, but on field name being passsword).\n *\n * @param {array} createProperties - Required list of objects used to generate the fields for creating a user\n * @param {string} resourceName - Required resource name\n * @param {string} resourceType - Required type of resource, currently only supports managed\n *\n * @mixin - utils/mixins/ResourceMixin.vue\n *\n * @fires POST type/name?_action=create (e.g. managed/user?_action=create) - Creates a record for the specified managed resource\n */\nexport default {\n    name: 'Create-Resource',\n    components: {\n        'fr-password-policy-input': PolicyPasswordInput,\n        'fr-relationship-edit': RelationshipEdit\n    },\n    mixins: [\n        ResourceMixin\n    ],\n    props: {\n        createProperties: {\n            type: Array,\n            required: true,\n            default: () => { return []; }\n        },\n        resourceName: {\n            type: String,\n            required: true\n        },\n        resourceType: {\n            type: String,\n            required: true\n        }\n    },\n    data () {\n        let tempFormFields = {},\n            tempPasswordCheck = false;\n\n        _.each(this.createProperties, (prop) => {\n            if (prop.type === 'string' || prop.type === 'number') {\n                tempFormFields[prop.key] = '';\n            } else if (prop.type === 'relationship') {\n                tempFormFields[prop.key] = null;\n            } else if (prop.type === 'array' && prop.items.type === 'relationship') {\n                tempFormFields[prop.key] = [];\n            } else {\n                tempFormFields[prop.key] = false;\n            }\n\n            // Special logic for password\n            if (prop.key === 'password') {\n                tempPasswordCheck = true;\n            }\n        });\n\n        return {\n            formFields: tempFormFields,\n            passwordCheck: tempPasswordCheck,\n            passwordInputType: 'password',\n            showPassword: true,\n            disabled: false\n        };\n    },\n    methods: {\n        saveForm () {\n            /* istanbul ignore next */\n            const idmInstance = this.getRequestService();\n\n            /* istanbul ignore next */\n            this.$refs.observer.validate().then((valid) => {\n                if (valid) {\n                    let saveData = this.cleanData(_.clone(this.formFields));\n\n                    this.disabled = true;\n                    idmInstance.post(`${this.resourceType}/${this.resourceName}?_action=create`, saveData)\n                        .then(() => {\n                            this.$emit('refreshGrid');\n                            this.$refs.observer.reset();\n                            this.hideModal();\n\n                            this.displayNotification('success', this.$t('pages.access.successCreate', { resource: _.capitalize(this.resourceName) }));\n                        })\n                        .catch((error) => {\n                            let generatedErrors = this.findPolicyError(error.response, this.createProperties);\n\n                            if (generatedErrors.length > 0) {\n                                let tempDisplayErrors = {};\n\n                                _.each(generatedErrors, (generatedError) => {\n                                    if (generatedError.exists) {\n                                        if (tempDisplayErrors[generatedError.field] !== undefined) {\n                                            tempDisplayErrors[generatedError.field].push(generatedError.msg);\n                                        } else {\n                                            tempDisplayErrors[generatedError.field] = [generatedError.msg];\n                                        }\n                                    }\n                                });\n                                this.$refs.observer.setErrors(tempDisplayErrors);\n                            } else {\n                                this.displayNotification('error', this.$t('pages.access.invalidCreate'));\n                            }\n                        })\n                        .finally(() => {\n                            this.disabled = false;\n                        });\n                } else {\n                    this.displayNotification('error', this.$t('pages.access.invalidCreate'));\n                }\n            });\n        },\n\n        hideModal () {\n            this.resetDialog();\n\n            this.$refs.createModal.hide();\n        },\n        // Clean dialog after closing/saving\n        resetDialog () {\n            if (this.$refs.observer) {\n                this.$refs.observer.reset();\n            }\n\n            this.passwordInputType = 'password';\n            this.showPassword = true;\n\n            _.each(this.formFields, (value, key) => {\n                const propertySchema = _.find(this.createProperties, { key: key });\n\n                if (_.isString(value) || _.isNumber(value)) {\n                    this.formFields[key] = '';\n                } else if (_.isArray(value)) {\n                    this.formFields[key] = [];\n                } else if (propertySchema.type === 'boolean') {\n                    this.formFields[key] = false;\n                } else {\n                    this.formFields[key] = null;\n                }\n            });\n        },\n        // Hide/show for special password field\n        revealNew () {\n            if (this.passwordInputType === 'password') {\n                this.passwordInputType = 'text';\n                this.showPassword = false;\n            } else {\n                this.passwordInputType = 'password';\n                this.showPassword = true;\n            }\n        },\n        // Remove optional fields and array type fields with empty arrays to not save with empty string or array\n        cleanData (data) {\n            _.each(data, (value, key) => {\n                if ((_.isString(value) && value.length === 0) || (_.isArray(value) && value.length === 0)) {\n                    delete data[key];\n                }\n            });\n\n            return data;\n        },\n        focusField () {\n            /* istanbul ignore next */\n            if (_.isArray(this.$refs.focusInput)) {\n                this.$refs.focusInput[0].focus();\n            }\n        },\n        getRelationshipDisplayFields (property, value) {\n            return _.find(property.resourceCollection, { path: value._refResourceCollection }).query.fields;\n        },\n        setSingletonRelationshipValue (property, value) {\n            this.formFields[property] = value;\n        },\n        setRelationshipArrayValue (property, value) {\n            let field = this.formFields[property];\n            if (value && field && _.findIndex(field, { _ref: value._ref }) === -1) {\n                field.push(value);\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateResource.vue?vue&type=template&id=4be8aca3&\"\nimport script from \"./CreateResource.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateResource.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nCopyright (c) 2020-2021 ForgeRock. All rights reserved.\n\nThis software may be modified and distributed under the terms\nof the MIT license. See the LICENSE file for details.\n-->\n\n<template>\n    <b-container>\n        <div class=\"card mt-4\">\n            <div class=\"card-header py-2\">\n                <b-row>\n                    <b-col md=\"3\" class=\"my-1\">\n                        <b-btn v-if=\"createProperties.length > 0\" type=\"button\" variant=\"primary\" v-b-modal.createResourceModal><i class=\"fa fa-plus mr-3\"></i>{{$t(\"common.form.new\")}} {{this.name}}</b-btn>\n                    </b-col>\n                    <b-col md=\"9\" class=\"my-1\">\n                        <div class=\"d-flex\">\n                            <b-input-group>\n                                <b-input-group-prepend>\n                                    <div class=\"input-group-text inset\">\n                                        <i class='fa fa-search'></i>\n                                    </div>\n                                </b-input-group-prepend>\n                                <b-form-input v-model=\"filter\" @keyup.native.enter=\"search\" :placeholder=\"searchPlaceholder\" class=\"inset-left inset-right\"></b-form-input>\n                                <b-input-group-append>\n                                    <b-btn variant=\"outline-default\" :disabled=\"!filter\" @click=\"clear\" class=\"inset clear\"><i class=\"fa fa-times-circle\"></i></b-btn>\n                                </b-input-group-append>\n                            </b-input-group>\n                        </div>\n                    </b-col>\n                </b-row>\n            </div>\n            <div class=\"card-body\">\n                <b-table show-empty\n                        table-responsive\n                        stacked=\"lg\"\n                        :items=\"gridData\"\n                        :fields=\"columns\"\n                        :per-page=\"0\"\n                        :hover=\"tableHover\"\n                        :sort-by.sync=\"sortBy\"\n                        :sort-desc.sync=\"sortDesc\"\n                        :no-local-sorting=\"true\"\n                        class=\"mb-0\"\n                        :sort-direction=\"sortDirection\"\n                        @row-clicked=\"resourceClicked\"\n                        @sort-changed=\"sortingChanged\"\n                        :busy=\"isLoading\"\n                        :class=\"[{'hide-header': isLoading || !gridData.length }]\">\n                        <template v-slot:table-busy>\n                            <div class=\"text-center p-5\">\n                            <b-spinner class=\"align-middle spinner-large text-primary my-4\"></b-spinner>\n                            <div>{{ $t(\"common.form.loading\") }} {{ plural(name) }}...</div>\n                            </div>\n                        </template>\n                </b-table>\n            </div>\n            <div v-if=\"!isLoading\" class=\"card-footer py-2\">\n                <nav aria-label=\"Page navigation example\">\n                    <ul class=\"pagination justify-content-center mb-0\">\n                        <li @click.prevent=\"currentPage === 1 ? '' : paginationChange(1)\" :class=\"[{ disabled: currentPage === 1 }, 'page-item']\">\n                            <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-double-left'></i></a>\n                        </li>\n                        <li @click.prevent=\"currentPage === 1 ? '' : paginationChange(currentPage - 1)\" :class=\"[{ disabled: currentPage === 1 }, 'page-item']\">\n                            <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-left'></i></a>\n                        </li>\n\n                        <li  @click.prevent=\"lastPage ?  '' : paginationChange(currentPage + 1)\" :class=\"[{ disabled: lastPage }, 'page-item']\">\n                            <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-right'></i></a>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        </div>\n\n        <fr-create-resource v-if=\"createProperties.length > 0\" @refreshGrid=\"clear\" :resourceName=\"name\" :resourceType=\"resource\" :createProperties=\"createProperties\"></fr-create-resource>\n    </b-container>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport pluralize from 'pluralize';\nimport axios from 'axios';\nimport CreateResource from '@/components/access/CreateResource';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\n\n/**\n * @description Controlling component for delegated admin, allows for listing available resources and connects to the create, delete and edit features.\n *\n * @fires GET schema/type/name/ (e.g. schema/managed/user) - Schema for a resource (e.g. managed/user schema)\n * @fires GET privilege/type/name/ (e.g. privilege/managed/user/) - Privileges for a resource (e.g. managed/user)\n * @fires GET resource/name?_queryFilter=filter&_pageSize=10 (e.g. managed/user?_queryFilter=true&_pageSize=10) -\n * List resource items, limited to 10 returned items and makes use of a query filter search if provided (defaults to queryFilter = true if none provided by the user).\n */\nexport default {\n    name: 'Access',\n    components: {\n        'fr-create-resource': CreateResource\n    },\n    mixins: [\n        ResourceMixin\n    ],\n    data () {\n        return {\n            name: this.$route.params.resourceName,\n            resource: this.$route.params.resourceType,\n            schemaProperties: {},\n            isRowSelected: false,\n            tableHover: true,\n            gridData: [],\n            columns: [],\n            displayFields: [],\n            currentPage: 1,\n            lastPage: false,\n            sortBy: null,\n            sortDesc: false,\n            sortDirection: 'asc',\n            filter: '',\n            createProperties: [],\n            userCanUpdate: false,\n            isLoading: true,\n            queryThreshold: null\n        };\n    },\n    mounted () {\n        this.loadData();\n    },\n    watch: {\n        gridData () {\n            // disallow sorting if there is a queryThreshold and the filter doesn't have at least the same number of chars as queryThreshold\n            this.columns = this.columns.map((col) => {\n                if (col.key !== 'actions') {\n                    col.sortable = !this.queryThreshold || (this.filter.length >= this.queryThreshold);\n                }\n\n                return col;\n            });\n        }\n    },\n    computed: {\n        searchPlaceholder () {\n            if (this.queryThreshold) {\n                return this.$t('pages.access.typeAtLeastAndEnterToSearch', { numChars: this.queryThreshold });\n            }\n            return this.$t('pages.access.typeAndEnterToSearch');\n        }\n    },\n    methods: {\n        loadData () {\n            const idmInstance = this.getRequestService(),\n                managedObjectsSettings = this.$root.applicationStore.state.managedObjectsSettings;\n\n            if (managedObjectsSettings && managedObjectsSettings[this.name]) {\n                this.queryThreshold = managedObjectsSettings[this.name].minimumUIFilterLength;\n            }\n\n            /* istanbul ignore next */\n            axios.all([\n                this.getSchema(`${this.resource}/${this.name}`),\n                idmInstance.get(`privilege/${this.resource}/${this.name}`)]).then(axios.spread((schema, privilege) => {\n                if (privilege.data.VIEW.allowed) {\n                    // Generate columns for display and filtering for read/query\n                    _.each(privilege.data.VIEW.properties, (readProp) => {\n                        let propSchema = schema.data.properties[readProp];\n                        if (\n                            this.columns.length <= 3 &&\n                                    _.isUndefined(propSchema.encryption) &&\n                                    _.includes(['string', 'boolean', 'number'], propSchema.type)\n                        ) {\n                            this.columns.push({\n                                key: readProp,\n                                label: propSchema.title,\n                                sortable: true,\n                                sortDirection: 'desc'\n                            });\n\n                            this.displayFields.push(readProp);\n                        }\n                    });\n                }\n\n                if (privilege.data.UPDATE) {\n                    this.userCanUpdate = true;\n                }\n\n                this.schemaProperties = schema.data.properties;\n\n                if (privilege.data.CREATE.allowed) {\n                    // Generate create list for create resource dialog\n                    _.each(privilege.data.CREATE.properties, (createProp) => {\n                        const propType = schema.data.properties[createProp].type;\n                        if (propType === 'string' || propType === 'number' || propType === 'boolean' || propType === 'relationship' || (propType === 'array' && schema.data.properties[createProp].items.type === 'relationship')) {\n                            schema.data.properties[createProp].key = createProp;\n\n                            _.each(schema.data.required, (requiredKey) => {\n                                if (requiredKey === schema.data.properties[createProp].key) {\n                                    schema.data.properties[createProp].required = true;\n                                }\n                            });\n\n                            this.createProperties.push(schema.data.properties[createProp]);\n                        }\n                    });\n                }\n\n                this.loadGrid('true', this.displayFields, this.displayFields[0], 1);\n            }))\n                .catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n        },\n        loadGrid (filter, fields, sortField, page) {\n            const idmInstance = this.getRequestService();\n\n            this.isLoading = true;\n\n            /* istanbul ignore next */\n            idmInstance.get(this.buildGridUrl(filter, fields, sortField, page)).then((resourceData) => {\n                // this.totalRows = resourceData.data.totalPagedResults;\n                if (resourceData.data.pagedResultsCookie) {\n                    this.lastPage = false;\n                } else {\n                    this.lastPage = true;\n                }\n\n                this.gridData = resourceData.data.result;\n                this.isLoading = false;\n            }).catch((error) => {\n                this.isLoading = false;\n                this.displayNotification('error', error.response.data.message);\n            });\n        },\n        buildGridUrl (filter, fields, sortField, page) {\n            let resourceUrl = `${this.resource}/${this.name}?_queryFilter=${filter}&_pageSize=10`;\n\n            if (_.isNull(sortField)) {\n                // If there is no sortField default to sorting on the first column.\n                sortField = fields[0];\n            }\n            // do not add _sortKeys when there is a queryThreshold and no filter\n            if (!(this.queryThreshold && this.filter === '')) {\n                resourceUrl = `${resourceUrl}&_sortKeys=${sortField}`;\n            }\n\n            if (fields.length) {\n                resourceUrl = `${resourceUrl}&_fields=${fields.join(',')}`;\n            }\n\n            if (page > 1) {\n                // Pagination starts at 1 and we need to go back an additional one to get the previous page\n                let offsetCalc = (page - 1) * 10;\n\n                resourceUrl = `${resourceUrl}&_pagedResultsOffset=${offsetCalc}`;\n            }\n\n            return resourceUrl;\n        },\n        calculateSort (sortDesc, sortBy) {\n            let sortUrl = null;\n\n            if (!_.isNull(sortBy)) {\n                if (sortDesc) {\n                    sortUrl = `${sortBy}`;\n                } else {\n                    sortUrl = `-${sortBy}`;\n                }\n            }\n\n            return sortUrl;\n        },\n        sortingChanged (sort) {\n            this.currentPage = 1;\n            this.lastPage = false;\n\n            this.loadGrid(this.generateSearch(this.filter, this.displayFields, this.schemaProperties), this.displayFields, this.calculateSort(sort.sortDesc, sort.sortBy), 1);\n        },\n        paginationChange (page) {\n            /* istanbul ignore next */\n            this.currentPage = page;\n            this.loadGrid(this.generateSearch(this.filter, this.displayFields, this.schemaProperties), this.displayFields, this.calculateSort(this.sortDesc, this.sortBy), page);\n        },\n        search () {\n            this.sortBy = null;\n            this.sortDesc = false;\n            this.currentPage = 1;\n            this.lastPage = false;\n            // only send search request if no queryThreshold is defined or the filter is empty or the filter has at least the same number of chars as queryThreshold\n            if (!this.queryThreshold || !this.filter.length || this.filter.length >= this.queryThreshold) {\n                this.loadGrid(this.generateSearch(this.filter, this.displayFields, this.schemaProperties), this.displayFields, null, 1);\n            }\n        },\n        clear () {\n            this.filter = '';\n            this.sortBy = null;\n            this.sortDesc = false;\n            this.currentPage = 1;\n\n            this.loadGrid('true', this.displayFields, null, 1);\n        },\n        resourceClicked (item) {\n            if (this.userCanUpdate) {\n                this.$router.push({\n                    name: 'EditResource',\n                    params: {\n                        resourceType: this.resource,\n                        resourceName: this.name,\n                        resourceId: item._id\n                    }\n                });\n            } else {\n                this.displayNotification('error', this.$t('pages.access.unableToEditResource', { resource: this.name }));\n            }\n        },\n        plural (txt) {\n            return pluralize(txt);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    /deep/ {\n        .fr-resource-paginator {\n            a[role=\"menuitemradio\"] {\n                display: none !important;\n            }\n        }\n\n        .card-body {\n            padding: 0;\n            border-width: 0;\n            overflow: auto;\n        }\n\n        .spinner-large {\n            width: 10rem;\n            height: 10rem;\n        }\n\n        .hide-header > thead {\n            display:none !important;\n        }\n    }\n\n    .input-group {\n        & > .input-group-prepend {\n            .input-group-text.inset,\n            .btn.inset {\n                border-right-color: transparent;\n            }\n        }\n\n        & > .input-group-append {\n            .input-group-text.inset,\n            .btn.inset {\n                border-left-color: transparent;\n            }\n        }\n\n        & > .form-control {\n            &.inset-left:not(:first-child) {\n                border-left-color: transparent;\n            }\n\n            &.inset-right:not(:first-child) {\n                border-right-color: transparent;\n            }\n        }\n\n        .btn.clear {\n            opacity: 1;\n            color: $gray-500;\n            background-color: $input-bg;\n\n            &.disabled > i {\n                color: transparent;\n                border-width: 0;\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=604a2e86&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=604a2e86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"604a2e86\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}